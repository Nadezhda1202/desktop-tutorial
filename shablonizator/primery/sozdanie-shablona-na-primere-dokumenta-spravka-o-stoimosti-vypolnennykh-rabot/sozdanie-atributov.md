# Создание атрибутов

Следующий этап в создании шаблона – создание атрибутов.

Атрибуты — позволяют определить и обозначить области документа, данные из которых будут распознаваться роботом и импортироваться в таблицу «Результаты».

**Атрибуты «Инвестор» и «Заказчик»**

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image45-182w316h.png" alt=""><figcaption></figcaption></figure>

В нашем примере в таблицу с результатами должны импортироваться данные об Инвесторе, Заказчике, а также Дата и Номер документа

В Шаблонизаторе необходимо добавить эти атрибуты на рабочей панели справа: выбираем «Атрибуты», нажимаем кнопку добавить, присваиваем имя атрибута «Инвестор».

Для корректного распознавания области документа, данные из которой будут импортироваться в результаты, для атрибута необходимо осуществить привязку к ранее созданным якорям.

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image46-605w109h.png" alt=""><figcaption></figcaption></figure>

В нашем примере якорем справа будет выступать якорь «Инвестор», слева – якорь «по».

**Якорные привязки к атрибуту «Инвестор»**

Для создания привязок в созданном атрибуте нажимаем «Якорные привязки», далее «Добавить привязку», затем левой клавишей мыши кликаем на якорное слово «Инвестор». Аналогичным образом создаем привязку к якорному слову «по». Производим проверку, в результате которой область данных нашего атрибута должны подсветиться синей рамкой, как на скриншоте выше.

Чтобы ограничить область данных атрибута сверху, создаем третью якорную привязку к OCR-блоку «Форма по». Нажимаем «Добавить привязку», кликаем левой клавишей мыши на созданный ранее якорь «Форма по». В параметрах привязки выбираем значение «Bottom», т.к. в качестве ориентира мы будем использовать нижнюю границу данного якоря.

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image47-605w145h.png" alt=""><figcaption></figcaption></figure>

Помимо параметра в привязке для данного атрибута необходимо указать «Объект привязки». Т.к. данные атрибута могут располагаться выше строки, которую мы выделили при помощи первых двух якорей слева и справа.

В строке «Объект привязки» указываем «TopEdge» — верхняя грань.

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image47-605w145h-1.png" alt=""><figcaption></figcaption></figure>

**Якорные привязки к атрибуту «Заказчик»**

По аналогии создаем атрибут «Заказчик», устанавливаем привязки к ранее созданным якорям «Заказчик» справа, «по» слева и «организация» сверху. Для привязки к якорю сверху устанавливаем параметр «Bottom», «Объект привязки» указываем «TopEdge».

В результате по каждому атрибуту должно быть указано по три якорные привязки: справа, слева и сверху.

После проверки в шаблоне каждый атрибут будет отображаться в виде синей рамки. В случае, если границы рамки не захватывают всю область данных атрибута, необходимо внести изменения в настройки.

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image48-605w137h.png" alt=""><figcaption></figcaption></figure>

**Ограничение линиями**

В некоторых документах названия полей, которые мы используем в качестве якорей могут располагаться не на нижней линии с описанием поля, а сверху или посередине, как на рисунке ниже.

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image49.png" alt=""><figcaption></figcaption></figure>

В таких случаях для корректной привязки рекомендуем воспользоваться дополнительным параметром «Ограничение линиями». Предварительно нужно проверить присутствуют ли в шаблоне OCR-линии, ограничивающие созданные нами атрибуты.

Нажимаем кнопку OCR-линии на верхней рабочей панели и проверяем наличие линий.

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image50-605w158h.png" alt=""><figcaption></figcaption></figure>

Линии подсвечены зеленым цветом и мы можем использовать их в качестве дополнительного ориентира в работе с атрибутами.

На верхней рабочей панели выбирает «Атрибуты», кликаем левой кливишей мыши на один из атрибутов, после чего он становится активным и в правой рабочей панели открываются инструменты для работы с выбранным атрибутом.

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image51-605w128h.png" alt=""><figcaption></figcaption></figure>

Выбираем «Ограничение линиями», из выпадающего списка выбираем значение «Down». Таким обратом мы ограничиваем нижнюю границу атрибута, которая теперь будет ориентироваться на OCR-линии.

Обязательно проверяем корректность отображения границ атрибута. При необходимости меняем значения данного параметра.

**Создание атрибутов «Номер» и «Дата». Якорные привязки**

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image52-273w190h.png" alt=""><figcaption></figcaption></figure>

Добавляем в правой рабочей панели атрибу&#x442;_**,**_ задаем имя атрибута _Номе&#x440;**.**_ Добавляем привязки к ранее созданным якорям.

В качестве привязки слева используем якорь _Справка\***,**_ в качестве параметра выбираем _Bottom_, также указываем _Объект привязки_ – _BottomEdge._

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image53-285w246h.png" alt=""><figcaption></figcaption></figure>

Создаем вторую привязку к якорю _номер\* докум\***.**_ В качестве параметра выбираем _BottomLeft_ (нижний левый угол). Объект привязки указываем _TopLeft_ (верхний левый угол).

Таким же образом производим привязку атрибута к правому углу. Создаем третью привязку также к якорю _номер\* докум\*._ В качестве параметра выбираем _BottomRight_ (нижний правый угол). Объект привязки указываем _TopRight_ (верхний правый угол).

Таким образом, для атрибута Номер должны быть созданы три якорные привязки.

После проверки в шаблоне должен появиться синий прямоугольник, внутри которого отображены данные нашего атрибута.

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image54.png" alt=""><figcaption></figcaption></figure>

Создание атрибута _Дата._

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image55-291w244h.png" alt=""><figcaption></figcaption></figure>

Добавляем в правой рабочей панели атрибу&#x442;_**,**_ задаем имя атрибута _Дат&#x430;**.**_ Добавляем привязки к ранее созданным якорям.

В качестве привязки слева используем якорь _Справка\***,**_ в качестве параметра выбираем _Bottom_, также указываем _Объект привязки_ – _BottomEdge._

Создаем вторую привязку к якорю дат&#x430;_\* состав\***.**_ В качестве параметра выбираем _BottomLeft_ (нижний левый угол). Объект привязки указываем _TopLeft_ (верхний левый угол).

Таким же образом производим привязку атрибута к правому углу. Создаем третью привязку также к якорю дат&#x430;_\* состав\***.**_ В качестве параметра выбираем _BottomRight_ (нижний правый угол). Объект привязки указываем _TopRight_ (верхний правый угол).

В результате для атрибута _Номер_ должны быть созданы три якорные привязки.

После проверки в шаблоне должен появиться синий прямоугольник, внутри которого отображены данные нашего атрибута.

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image56-1.png" alt=""><figcaption></figcaption></figure>

Тип данных – _DateTime._

Формат значения – вручную указываем формат, необходимый для атрибута. В нашем примере это _dd.MM.yyyy_

<figure><img src="https://sherparpa.ru/wp-content/uploads/2023/11/image57-286w219h.png" alt=""><figcaption></figcaption></figure>

В случае, если в каком-либо документе дата документа будет указана как _30 ноября 2022г._, в результате эта дата будет преобразована в _30.11.2022_
