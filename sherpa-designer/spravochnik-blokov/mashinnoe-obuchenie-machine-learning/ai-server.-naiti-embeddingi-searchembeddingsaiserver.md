# AI Server. Найти эмбеддинги (SearchEmbeddingsAIServer)

Блок позволяет:&#x20;

* по заданному запросу-эмбеддингу[^1] найти в базе знаний самые похожие строки,
* возвратить их список, отсортированного по убыванию похожести.&#x20;

Базу знаний можно заполнять блоками "AI Server. Добавить документ" и "AI Server. Добавить чанки".

<table data-header-hidden><thead><tr><th width="296.76666259765625" valign="top"></th><th width="323.566650390625" valign="top"></th></tr></thead><tbody><tr><td valign="top">Поисковый запрос</td><td valign="top">[Текст] Текст, который необходимо найти.</td></tr><tr><td valign="top">Количество результатов</td><td valign="top">[Число] Количество результатов в ответе.</td></tr><tr><td valign="top">Список GUID/Путей к файлам</td><td valign="top"><p>[Список] Список GUID файлов или путей, в которых необходимо производить поиск. </p><p>Например, <code>@("GUID";"Папка 1\Подпапка 2\Подпапка 3\Документ.docx")</code>. </p><p></p><p>Путь к файлу должен содержать имя файла и расширение.</p></td></tr><tr><td valign="top">Список GUID/Путей к папкам</td><td valign="top"><p>[Список] Список GUID или путей папок, в которых необходимо производить поиск. </p><p>Например, <code>@("GUID";"Папка 1\Подпапка 2\Подпапка 3")</code>.</p></td></tr><tr><td valign="top">Включать подпапки</td><td valign="top">При включенни будут учитываться подпапки.</td></tr><tr><td valign="top">Таймаут</td><td valign="top">[Число] Максимальное время ожидания ответа в секундах.</td></tr><tr><td valign="top">Результат</td><td valign="top"><p>[Список объектов] Список объектов ChunkItem. </p><p>Доступные свойства: </p><ul><li>Text - текст чанка; </li><li>FileGUID - GUID файла, где чанк был найден; </li><li>FolderGUID - GUID папки, где чанк был найден; </li><li>FileName - имя файла с расширением но без пути к папке; </li><li>FilePath - имя файла с путём к папке; </li><li>Metadata - метаданные чанка; </li><li>FileMetadata - метаданные файла; </li><li>Distance - степень близости.</li></ul></td></tr><tr><td valign="top">Уровень обработки</td><td valign="top"><p>Выбор уровня обработки ошибок. Возможные значения: </p><ul><li>"Default" - по умолчанию; </li><li>"Ignore" - ошибки игнорируются; </li><li>"Handle" - ошибки обрабатываются. </li></ul><p>Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы.</p></td></tr><tr><td valign="top">Уровень сообщений</td><td valign="top"><p>Выбор уровня сообщений, который будут выводить блоки при работе. Возможные значения: </p><ul><li>"Default" - по умолчанию; </li><li>"Release" - вывод отключен; </li><li>"Debug" - вывод основной информации; </li><li>"Detailed" - вывод подробной информации. </li></ul><p>Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы.</p></td></tr><tr><td valign="top">Текст ошибки</td><td valign="top">[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока.</td></tr></tbody></table>

[^1]: Эмбеддинг - это вектор (набор чисел), которые характеризуют смысл, ассоциированный с переданной входной текста. Слова или предложения с близким смыслом будут иметь эмбеддинги с минимальным косинусным расстоянием. Эмбеддинги в том числе могут использоваться для поиска наиболее близких по смыслу слов, строк или абзацев в базах данных документов.
