# Telegram

**Примечание:** _при необходимости, данные о подключении к Telegram Вы можете найти по пути c:\Users\User\AppData\Roaming\Sherpa RPA Data\Telegram\\_

[Демонстрацию работы некоторых блоков из палитры "Telegram" можно посмотреть здесь.](https://sherparpa.ru/ucontent/?0G)

### Бот. Создать подключение

Создание подключения для бота Telegram.

Видео-инструкция по созданию бота в Telegram: http://sherparpa.ru/videos/ru/telegrambot.mp4

<table data-header-hidden><thead><tr><th width="196"></th><th></th></tr></thead><tbody><tr><td>Токен бота</td><td>[Текст] Токен бота. Токен можно получить от BotFather в клиенте Telegram</td></tr><tr><td>Время ожидания</td><td>[Число] Время ожидания ответа от сервера Telegram в секундах</td></tr><tr><td>Подключение</td><td>[Ссылка] Возвращается объект подключения к боту. Доступные свойства: Username - Имя бота</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Бот. Закрыть подключение

Закрывает подключение к боту Telegram.

<table data-header-hidden><thead><tr><th width="201"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения к боту. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Бот. Создать подключение" из группы Telegram, который ранее использовался для подключения к боту Telegram</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Бот. Получить сообщение

Получает сообщение или обратный вызов из очереди. Если сообщений в очереди нет, то генерируется ошибка.

<table data-header-hidden><thead><tr><th width="199"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения к боту. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Бот. Создать подключение" из группы Telegram, который ранее использовался для подключения к боту Telegram</td></tr><tr><td>Ждать сообщение</td><td>При включении блок будет ждать новые сообщения. Иначе при отсутствии сообщения будет сгенерирована ошибка</td></tr><tr><td>Сообщение</td><td>[Ссылка] Возвращается объект сообщения. Доступные свойства: Id - id сообщения; ChatId - id чата; From - имя пользователя, от которого пришло сообщение; Text - текст сообщения; Type - текстовое обозначение типа сообщения; IsFile - указывает, есть ли в сообщении файл (здесь можно более точно определить тип с помощью свойств IsDocument, IsPhoto, IsVoice). Например: $TMessage.IsPhoto - если равно $true, то в сообщении есть фото</td></tr><tr><td>Обратный вызов</td><td>[Логический] Если включено, то в сообщении содержатся данные об обратном вызове (нажатие кнопки). Доступные свойства: IsCallback - если включено, то это обратный вызов; CallbackData - строка с данными нажатой кнопки (эти данные задаются в словаре в блоке "Бот. Отправить сообщение"; Callback - объект обратного вызова</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Бот. Список чатов

Возвращается список чатов, в которых участвовал бот.

<table data-header-hidden><thead><tr><th width="219"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения к боту. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Бот. Создать подключение" из группы Telegram, который ранее использовался для подключения к боту Telegram</td></tr><tr><td>Список чатов</td><td>[Словарь] Список чатов возвращается в виде словаря. Ключами словаря являются имена пользователей, а значениями - id чата. Например: $chatid = $Chats["username"]. Получаем значение id чата с пользователем username, далее эту переменную можно использовать в блоках отправки сообщений</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Бот. Отправить сообщение

Отправление текстового сообщения в чат.

<table data-header-hidden><thead><tr><th width="251"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения к боту. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Бот. Создать подключение" из группы Telegram, который ранее использовался для подключения к боту Telegram</td></tr><tr><td>ID чата</td><td>[Число] Id чата. Данное значение можно получить: из блока "Бот. Получить сообщение" в свойстве "Сообщение" - $TMessage.ChatId; из блока "Бот. Список чатов" в свойстве "Список чатов" - $Chats["username"]</td></tr><tr><td>ID сообщения</td><td>[Число] Можно ввести ID сообщения, на которое требуется ответить. Данное значение можно получить из блока "Бот. Получить сообщение" в свойстве "Сообщение" - $TMessage.Id</td></tr><tr><td>Текст</td><td>[Текст] Текст сообщения</td></tr><tr><td>Кнопки</td><td>[Словарь] Словарь кнопок, которые будут отправлены вместе с сообщением. Ключом словаря является название кнопки, а значением словаря является данные обратного вызова. Например: @{ "Назад"="butBack"; "Вперед"="butForward" }. Значения "butBack" и "butForward" будут возвращены в свойстве $TMessage.CallbackData. Подробнее описано в свойстве "Обратный вызов" блока "Бот. Получить сообщение"</td></tr><tr><td>Количество колонок кнопок</td><td>[Число] Если значение пустое, то кнопки выстраиваются в один ряд. Если указать значение, то кнопки будут выстроены в указанное количество колонок</td></tr><tr><td>Отключить оповещение</td><td>При включении оповещение об доставке не будет</td></tr><tr><td>Отключить предпросмотр</td><td>При включении предпросмотр ссылок отключается</td></tr><tr><td>Html форматирование</td><td>При включении в тексте можно использовать форматирование с использованием html тегов. Например: &#x3C;b>Bold text&#x3C;/b></td></tr><tr><td>Сообщение</td><td>[Ссылка] Возвращается объект отправленного сообщения. Доступные свойства: Id - id сообщения; ChatId - id чата; From - имя пользователя, от которого пришло сообщение; Text - текст сообщения; Type - текстовое обозначение типа сообщения; IsFile - указывает, есть ли в сообщении файл (здесь можно более точно определить тип с помощью свойств IsDocument, IsPhoto). Например: $TMessage.IsPhoto - если равно $true, то в сообщении есть фото</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Бот. Отправить контакт

Отправление контакта в чат.

<table data-header-hidden><thead><tr><th width="243"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения к боту. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Бот. Создать подключение" из группы Telegram, который ранее использовался для подключения к боту Telegram</td></tr><tr><td>ID чата</td><td>[Число] Id чата. Данное значение можно получить: из блока "Бот. Получить сообщение" в свойстве "Сообщение" - $TMessage.ChatId; из блока "Бот. Список чатов" в свойстве "Список чатов" - $Chats["username"]</td></tr><tr><td>ID сообщения</td><td>[Число] Можно ввести ID сообщения, на которое требуется ответить. Данное значение можно получить из блока "Бот. Получить сообщение" в свойстве "Сообщение" - $TMessage.Id</td></tr><tr><td>Телефон</td><td>[Текст] Телефон контакта</td></tr><tr><td>Имя</td><td>[Текст] Имя контакта</td></tr><tr><td>Фамилия</td><td>[Текст] Фамилия контакта</td></tr><tr><td>Отключить оповещение</td><td>При включении оповещение об доставке не будет</td></tr><tr><td>Отключить предпросмотр</td><td>При включении предпросмотр ссылок отключается</td></tr><tr><td>Html форматирование</td><td>При включении в тексте можно использовать форматирование с использованием html тегов. Например: &#x3C;b>Bold text&#x3C;/b></td></tr><tr><td>Сообщение</td><td>[Ссылка] Возвращается объект отправленного сообщения. Доступные свойства: Id - id сообщения; ChatId - id чата; From - имя пользователя, от которого пришло сообщение; Text - текст сообщения; Type - текстовое обозначение типа сообщения; IsFile - указывает, есть ли в сообщении файл (здесь можно более точно определить тип с помощью свойств IsDocument, IsPhoto). Например: $TMessage.IsPhoto - если равно $true, то в сообщении есть фото</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Бот. Отправить файл

Отправление файла в чат.

<table data-header-hidden><thead><tr><th width="241"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения к боту. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Бот. Создать подключение" из группы Telegram, который ранее использовался для подключения к боту Telegram</td></tr><tr><td>ID чата</td><td>[Число] Id чата. Данное значение можно получить: из блока "Бот. Получить сообщение" в свойстве "Сообщение" - $TMessage.ChatId; из блока "Бот. Список чатов" в свойстве "Список чатов" - $Chats["username"]</td></tr><tr><td>ID сообщения</td><td>[Число] Можно ввести ID сообщения, на которое требуется ответить. Данное значение можно получить из блока "Бот. Получить сообщение" в свойстве "Сообщение" - $TMessage.Id</td></tr><tr><td>Имя файла</td><td>[Текст] Имя и путь к файлу, который будет отправлен в чат. Максимальный размер файла 20Мб</td></tr><tr><td>Описание</td><td>[Текст] Описание к файлу</td></tr><tr><td>Отключить оповещение</td><td>При включении оповещение об доставке не будет</td></tr><tr><td>Отключить предпросмотр</td><td>При включении предпросмотр ссылок отключается</td></tr><tr><td>Html форматирование</td><td>При включении в тексте можно использовать форматирование с использованием html тегов. Например: &#x3C;b>Bold text&#x3C;/b></td></tr><tr><td>Сообщение</td><td>[Ссылка] Возвращается объект отправленного сообщения. Доступные свойства: Id - id сообщения; ChatId - id чата; From - имя пользователя, от которого пришло сообщение; Text - текст сообщения; Type - текстовое обозначение типа сообщения; IsFile - указывает, есть ли в сообщении файл (здесь можно более точно определить тип с помощью свойств IsDocument, IsPhoto). Например: $TMessage.IsPhoto - если равно $true, то в сообщении есть фото</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Бот. Отправить фото

Отправление фотографии или изображения в чат.

<table data-header-hidden><thead><tr><th width="243"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения к боту. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Бот. Создать подключение" из группы Telegram, который ранее использовался для подключения к боту Telegram</td></tr><tr><td>ID чата</td><td>[Число] Id чата. Данное значение можно получить: из блока "Бот. Получить сообщение" в свойстве "Сообщение" - $TMessage.ChatId; из блока "Бот. Список чатов" в свойстве "Список чатов" - $Chats["username"]</td></tr><tr><td>ID сообщения</td><td>[Число] Можно ввести ID сообщения, на которое требуется ответить. Данное значение можно получить из блока "Бот. Получить сообщение" в свойстве "Сообщение" - $TMessage.Id</td></tr><tr><td>Имя файла</td><td>[Текст] Имя и путь к файлу, который будет отправлен в чат. Максимальный размер файла 20Мб</td></tr><tr><td>Описание</td><td>[Текст] Описание к фото</td></tr><tr><td>Отключить оповещение</td><td>При включении оповещение об доставке не будет</td></tr><tr><td>Отключить предпросмотр</td><td>При включении предпросмотр ссылок отключается</td></tr><tr><td>Html форматирование</td><td>При включении в тексте можно использовать форматирование с использованием html тегов. Например: &#x3C;b>Bold text&#x3C;/b></td></tr><tr><td>Сообщение</td><td>[Ссылка] Возвращается объект отправленного сообщения. Доступные свойства: Id - id сообщения; ChatId - id чата; From - имя пользователя, от которого пришло сообщение; Text - текст сообщения; Type - текстовое обозначение типа сообщения; IsFile - указывает, есть ли в сообщении файл (здесь можно более точно определить тип с помощью свойств IsDocument, IsPhoto). Например: $TMessage.IsPhoto - если равно $true, то в сообщении есть фото</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Бот. Отправить голосовое сообщение

Отправляет голосовое сообщение в чат

| Подключение            | \[Ссылка] Объект подключения к боту. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Бот. Создать подключение" из группы Telegram, который ранее использовался для подключения к боту Telegram                                                                                                                                                                                     |
| ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ID чата                | \[Число] Id чата. Данное значение можно получить: из блока "Бот. Получить сообщение" в свойстве "Сообщение" - $TMessage.ChatId; из блока "Бот. Список чатов" в свойстве "Список чатов" - $Chats\["username"]                                                                                                                                                                                                                                      |
| ID сообщения           | \[Число] Можно ввести ID сообщения, на которое требуется ответить. Данное значение можно получить из блока "Бот. Получить сообщение" в свойстве "Сообщение" - $TMessage.Id                                                                                                                                                                                                                                                                        |
| Имя файла              | \[Текст] Имя и путь к файлу, который будет отправлен в чат. Например: "audio.ogg"                                                                                                                                                                                                                                                                                                                                                                 |
| Описание               | \[Текст] Описание к сообщению                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Отключить оповещение   | При включении оповещение об доставке не будет                                                                                                                                                                                                                                                                                                                                                                                                     |
| Отключить предпросмотр | При включении предпросмотр ссылок отключается                                                                                                                                                                                                                                                                                                                                                                                                     |
| Html форматирование    | При включении в тексте можно использовать форматирование с использованием html тегов. Например: \<b>Bold text\</b>                                                                                                                                                                                                                                                                                                                                |
| Количество попыток     | \[Число] Количество попыток при возникновении ошибки связи с сервером                                                                                                                                                                                                                                                                                                                                                                             |
| Сообщение              | \[Ссылка] Возвращается объект отправленного сообщения. Доступные свойства: Id - id сообщения; ChatId - id чата; From - имя пользователя, от которого пришло сообщение; Text - текст сообщения; Type - текстовое обозначение типа сообщения; IsFile - указывает, есть ли в сообщении файл (здесь можно более точно определить тип с помощью свойств IsDocument, IsPhoto). Например: $TMessage.IsPhoto - если равно $true, то в сообщении есть фото |
| Уровень обработки      | Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы                                                                                                                                                                                                   |
| Уровень сообщений      | Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы                                                                                                                         |
| Текст ошибки           | \[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока                                                                                                                                                                                                                                                                                                                                                 |

### Бот. Редактировать сообщение

Изменение сообщения в чате.

<table data-header-hidden><thead><tr><th width="256"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения к боту. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Бот. Создать подключение" из группы Telegram, который ранее использовался для подключения к боту Telegram</td></tr><tr><td>ID чата</td><td>[Число] Id чата. Данное значение можно получить: из блока "Бот. Отправить сообщение" в свойстве "Сообщение" - $TMessage.ChatId</td></tr><tr><td>ID сообщения</td><td>[Число] Id сообщения. Данное значение можно получить: из блока "Бот. Отправить сообщение" в свойстве "Сообщение" - $TMessage.Id</td></tr><tr><td>Текст</td><td>[Текст] Новый текст сообщения или заголовка медиа сообщения</td></tr><tr><td>Заголовок медиа сообщения</td><td>Если включено, то будет изменен заголовок медиа сообщения (файл, изображение). При этом ID чата и ID сообщения должны указывать на такое сообщение в чате. Иначе будет изменен текст сообщения</td></tr><tr><td>Отключить оповещение</td><td>При включении оповещение об доставке не будет</td></tr><tr><td>Отключить предпросмотр</td><td>При включении предпросмотр ссылок отключается</td></tr><tr><td>Html форматирование</td><td>При включении в тексте можно использовать форматирование с использованием html тегов. Например: &#x3C;b>Bold text&#x3C;/b></td></tr><tr><td>Сообщение</td><td>[Ссылка] Возвращается объект измнененного сообщения. Доступные свойства: Id - id сообщения; ChatId - id чата; From - имя пользователя, от которого пришло сообщение; Text - текст сообщения; Type - текстовое обозначение типа сообщения; IsFile - указывает, есть ли в сообщении файл (здесь можно более точно определить тип с помощью свойств IsDocument, IsPhoto). Например: $TMessage.IsPhoto - если равно $true, то в сообщении есть фото</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Бот. Скачать файл

Скачивает файл из сообщения.

<table data-header-hidden><thead><tr><th width="195"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения к боту. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Бот. Создать подключение" из группы Telegram, который ранее использовался для подключения к боту Telegram</td></tr><tr><td>Сообщение</td><td>[Ссылка] Объект сообщения. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Сообщение", блока "Бот. Получить сообщение" из группы Telegram</td></tr><tr><td>Имя файла</td><td>[Текст] Имя и путь файла, в который будет сохранен файл из сообщения. Голосовые сообщения должны скачиваться в формат .ogg</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Создать подключение

Создает подключение к Telegram в виде клиента.

<table data-header-hidden><thead><tr><th width="197"></th><th></th></tr></thead><tbody><tr><td>Имя сессии</td><td>[Текст] Имя сессии. Для сохранения авторизации необходимо задать уникальное имя сессии и впоследствии для подключения использовать его. При первом запуске откроется форма авторизации. Для авторизации необходимо будет ввести телефон, затем сервис отправит код, который придет в уже подключенный клиент Telegram (например на телефоне). Затем ввести этот код и нажать Авторизоваться</td></tr><tr><td>Время ожидания</td><td>[Число] Время ожидания ответа от сервера Telegram в секундах</td></tr><tr><td>Подключение</td><td>[Ссылка] Возвращается объект подключения клиента. Доступные свойства: UserId - Id пользователя</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Закрыть подключение

Закрывает подключение клиента.

<table data-header-hidden><thead><tr><th width="208"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Получить сообщение

Получает сообщение из очереди. Если сообщений в очереди нет, то генерируется ошибка.

<table data-header-hidden><thead><tr><th width="205"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram</td></tr><tr><td>Ждать сообщение</td><td>При включении блок будет ждать новые сообщения. Иначе при отсутствии сообщения будет сгенерирована ошибка</td></tr><tr><td>Сообщение</td><td>[Ссылка] Возвращается объект сообщения. Доступные свойства: Id - id сообщения; Date - дата; From - от кого сообщение; To - кому сообщение; FromId - Id пользователя от кого сообщение; Title - название чата;  Text - текст сообщения; Type - текстовое обозначение типа сообщения; IsFile - указывает, есть ли в сообщении файл (здесь можно более точно определить тип с помощью свойств IsDocument, IsPhoto). Например: $TMessage.IsPhoto - если равно $true, то в сообщении есть фото</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Список чатов

Возвращаются все чаты пользователя: групповые чаты, каналы, диалоги.

<table data-header-hidden><thead><tr><th width="195"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram</td></tr><tr><td>Фильтр</td><td>[Текст] Строка для фильтрации списка чатов. Ищется вхождение заданного значения в чатах (Id, Title) и в диалогах (Id, FirstName, LastName, Username, Phone)</td></tr><tr><td>Список чатов</td><td>[Словарь] Список чатов возвращается в виде словаря. Ключами словаря являются название чата, а значениями - id чата. Например: $chatid = $Chats["username"]. Получаем значение id чата с пользователем username, далее эту переменную можно использовать в блоках отправки сообщений</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Список контактов

Возвращается список контактов.

<table data-header-hidden><thead><tr><th width="193"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram</td></tr><tr><td>Фильтр</td><td>[Текст] Строка для фильтрации списка контактов. Ищется вхождение заданного значения в Id, FirstName, LastName, Username, Phone</td></tr><tr><td>Контакты</td><td>[Таблица Данных] Таблица данных, содержащая список контактов. Таблица содержит следующие колонки: Id, Username, FirstName, LastName, Phone</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Отправить сообщение

Отправление текстового сообщения.

<table data-header-hidden><thead><tr><th width="239"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram</td></tr><tr><td>Назначение</td><td>[Текст] Объект назначения. Данная строка может содержать следующие значения: Id чата, название чата, Id пользователя, комбинацию "FirstName LastName" пользователя, значение Username пользователя, телефон пользователя</td></tr><tr><td>Ответ на сообщение</td><td>[Число] Укажите ID сообщения, на которое необходимо ответить</td></tr><tr><td>Текст</td><td>[Текст] Текст сообщения</td></tr><tr><td>Отключить оповещение</td><td>При включении оповещение об доставке не будет</td></tr><tr><td>Отключить предпросмотр</td><td>При включении предпросмотр ссылок отключается</td></tr><tr><td>Html форматирование</td><td>При включении в тексте можно использовать форматирование с использованием html тегов. Например: &#x3C;b>Bold text&#x3C;/b></td></tr><tr><td>Id чата</td><td>[Текст] Возвращается Id чата, которому было отправлено сообщение</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Отправить файл

Отправление файла.

<table data-header-hidden><thead><tr><th width="237"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram</td></tr><tr><td>Назначение</td><td>[Текст] Объект назначения. Данная строка может содержать следующие значения: Id чата, название чата, Id пользователя, комбинацию "FirstName LastName" пользователя, значение Username пользователя, телефон пользователя</td></tr><tr><td>Ответ на сообщение</td><td>[Число] Укажите ID сообщения, на которое необходимо ответить</td></tr><tr><td>Имя файла</td><td>[Текст] Имя и путь к файлу, который будет отправлен</td></tr><tr><td>Заголовок</td><td>[Текст] При необходимости можно указать заголовок к файлу</td></tr><tr><td>Отключить оповещение</td><td>При включении оповещение об доставке не будет</td></tr><tr><td>Отключить предпросмотр</td><td>При включении предпросмотр ссылок отключается</td></tr><tr><td>Html форматирование</td><td>При включении в тексте можно использовать форматирование с использованием html тегов. Например: &#x3C;b>Bold text&#x3C;/b></td></tr><tr><td>Id чата</td><td>[Текст] Возвращается Id чата, которому был отправлен файл</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Отправить фото

Отправление фотографии или изображения.

<table data-header-hidden><thead><tr><th width="241"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram</td></tr><tr><td>Назначение</td><td>[Текст] Объект назначения. Данная строка может содержать следующие значения: Id чата, название чата, Id пользователя, комбинацию "FirstName LastName" пользователя, значение Username пользователя, телефон пользователя</td></tr><tr><td>Ответ на сообщение</td><td>[Число] Укажите ID сообщения, на которое необходимо ответить</td></tr><tr><td>Имя файла</td><td>[Текст] Имя и путь к файлу, который будет отправлен</td></tr><tr><td>Заголовок</td><td>[Текст] При необходимости можно указать заголовок к файлу</td></tr><tr><td>Отключить оповещение</td><td>При включении оповещение об доставке не будет</td></tr><tr><td>Отключить предпросмотр</td><td>При включении предпросмотр ссылок отключается</td></tr><tr><td>Html форматирование</td><td>При включении в тексте можно использовать форматирование с использованием html тегов. Например: &#x3C;b>Bold text&#x3C;/b></td></tr><tr><td>Id чата</td><td>[Текст] Возвращается Id чата, которому было отправлено изображение</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Отправить голосовое сообщение

Отправляет голосовое сообщение в чат

| Подключение            | \[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram                                                                                                                                                                                |
| ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Назначение             | \[Текст] Объект назначения. Данная строка может содержать следующие значения: Id чата, название чата, Id пользователя, комбинацию "FirstName LastName" пользователя, значение Username пользователя, телефон пользователя                                                                                                                                                                                                                         |
| Ответ на сообщение     | \[Число] Укажите ID сообщения, на которое необходимо ответить                                                                                                                                                                                                                                                                                                                                                                                     |
| Поток сообщений        | \[Число/Текст] Укажите ID потока, в который нужно отправить сообщение. Этот идентификатор можно получить с помощью блока "Клиент. Получить идентификатор потока сообщений"                                                                                                                                                                                                                                                                        |
| Имя файла              | \[Текст] Имя и путь к файлу, который будет отправлен в чат. Например: "audio.ogg"                                                                                                                                                                                                                                                                                                                                                                 |
| Заголовок              | \[Текст] При необходимости можно указать заголовок к файлу                                                                                                                                                                                                                                                                                                                                                                                        |
| Отключить оповещение   | При включении оповещение об доставке не будет                                                                                                                                                                                                                                                                                                                                                                                                     |
| Отключить предпросмотр | При включении предпросмотр ссылок отключается                                                                                                                                                                                                                                                                                                                                                                                                     |
| Html форматирование    | При включении в тексте можно использовать форматирование с использованием html тегов. Например: \<b>Bold text\</b>                                                                                                                                                                                                                                                                                                                                |
| Количество попыток     | \[Число] Количество попыток при возникновении ошибки связи с сервером                                                                                                                                                                                                                                                                                                                                                                             |
| Сообщение              | \[Ссылка] Возвращается объект отправленного сообщения. Доступные свойства: Id - id сообщения; ChatId - id чата; From - имя пользователя, от которого пришло сообщение; Text - текст сообщения; Type - текстовое обозначение типа сообщения; IsFile - указывает, есть ли в сообщении файл (здесь можно более точно определить тип с помощью свойств IsDocument, IsPhoto). Например: $TMessage.IsPhoto - если равно $true, то в сообщении есть фото |
| Уровень обработки      | Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы                                                                                                                                                                                                   |
| Уровень сообщений      | Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы                                                                                                                         |
| Текст ошибки           | \[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока                                                                                                                                                                                                                                                                                                                                                 |

### Клиент. Скачать файл

Скачивает файл из сообщения.

<table data-header-hidden><thead><tr><th width="198"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram</td></tr><tr><td>Сообщение</td><td>[Ссылка] Объект сообщения. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Сообщение" блока "Клиент. Получить сообщение" или из массива свойства "Сообщения" блока "Клиент. Выгрузить сообщения"  из группы Telegram</td></tr><tr><td>Имя файла</td><td>[Текст] Имя и путь файла, в который будет сохранен файл из сообщения</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Выгрузить сообщения

Выгружает сообщения из чата. Выгрузка сообщений происходит с последнего, т.е. снизу вверх.

<table data-header-hidden><thead><tr><th width="200"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram</td></tr><tr><td>Назначение</td><td>[Текст] Объект назначения. Данная строка может содержать следующие значения: Id чата, название чата, Id пользователя, комбинацию "FirstName LastName" пользователя, значение Username пользователя, телефон пользователя</td></tr><tr><td>Смещение</td><td>[Число] Идентификатор сообщения, с которого начинается выгрузка. По умолчанию установлено значение 0, что обозначает загрузку сообщений с самого последнего</td></tr><tr><td>Количество</td><td>[Число] Задается ограничение на количество выгружаемых сообщений за один раз</td></tr><tr><td>Фильтр контакта</td><td>[Текст] Строка для фильтрации контактов в чате. Ищется вхождение заданного значения в Id, FirstName, LastName, Username, Phone</td></tr><tr><td>Фильтр сообщения</td><td>[Текст] Строка для фильтрации текста сообщения. Ищется вхождение заданного значения</td></tr><tr><td>Поток сообщений</td><td>[Текст] Строка с идентификатором потока сообщений. Используется при работе с комментариями новостей</td></tr><tr><td>Сообщения</td><td>[Список] Возвращается список сообщений. Каждый элемент списка представляет собой объект сообщения. У объекта доступные свойства: Id - id сообщения; Date - дата; From - от кого сообщение; To - кому сообщение; FromId - Id пользователя от кого сообщение; Title - название чата;  Text - текст сообщения; Type - текстовое обозначение типа сообщения; IsFile - указывает, есть ли в сообщении файл (здесь можно более точно определить тип с помощью свойств IsDocument, IsPhoto). Например: $TMessage.IsPhoto - если равно $true, то в сообщении есть фото</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Получить идентификатор потока сообщений

Получает идентификатор потока сообщений для сообщения из новостного канала.

<table data-header-hidden><thead><tr><th width="204"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram</td></tr><tr><td>Назначение канала</td><td>[Текст] Идентификатор или название новостного канала</td></tr><tr><td>Сообщение канала</td><td>[Текст] Идентификатор сообщения в новостном канале</td></tr><tr><td>Назначение чата</td><td>[Текст] Возвращается идентификатор чата, содержащий комментарии для данного новостного сообщения</td></tr><tr><td>Поток сообщений</td><td>[Текст] Возвращается идентификатор потока для данного новостного сообщения</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

### Клиент. Получить Id чата

Находит и возвращает Id чата для указанного назначения.

<table data-header-hidden><thead><tr><th width="202"></th><th></th></tr></thead><tbody><tr><td>Подключение</td><td>[Ссылка] Объект подключения клиента. Название переменной в данном свойстве должно совпадать с названием переменной в свойстве "Подключение", блока "Клиент. Создать подключение" из группы Telegram, который ранее использовался для подключения клиента Telegram</td></tr><tr><td>Назначение</td><td>[Текст] Объект назначения. Данная строка может содержать следующие значения: Id чата, название чата, Id пользователя, комбинацию "FirstName LastName" пользователя, значение Username пользователя, телефон пользователя, ссылка</td></tr><tr><td>Id чата</td><td>[Текст] Возвращается Id чата</td></tr><tr><td>Уровень обработки</td><td>Выбор уровня обработки ошибок. Возможные значения: "Default" - по умолчанию; "Ignore" - ошибки игнорируются; "Handle" - ошибки обрабатываются. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Уровень сообщений</td><td>Выбор уровня сообщений, которые будут выводить блоки при работе. Возможные значения: "Default" - по умолчанию; "Release" - вывод отключен; "Debug" - вывод основной информации; "Detailed" - вывод подробной информации. Если выбрано значение "Default", то будет использоваться значение блока "Старт" данной диаграммы</td></tr><tr><td>Текст ошибки</td><td>[Текст] Возвращает подробную информацию об ошибке в случае некорректного выполнения работы блока</td></tr></tbody></table>

&#x20;
