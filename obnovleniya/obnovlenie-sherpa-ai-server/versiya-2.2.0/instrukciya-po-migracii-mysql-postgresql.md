# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ MySQL ‚Üí PostgreSQL

### –í–≤–µ–¥–µ–Ω–∏–µ

{% hint style="warning" %}
**–í–ê–ñ–ù–û!** –ï–°–õ–ò —É –≤–∞—Å –≤–µ—Ä—Å–∏—è AI Server —Ä–∞–≤–Ω–∞ –∏–ª–∏ –º–µ–Ω—å—à–µ 2.0.0 —Ç–æ –≤ –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MySQL –∏ PostgreSQL 16 –≤–µ—Ä—Å–∏–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –í –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ 2.1.0+ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ PostgreSQL 17 –≤–µ—Ä—Å–∏–∏.
{% endhint %}

–í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å mysql –Ω–∞ PostgreSQL, –∞ —Ç–∞–∫ –∂–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö —Å 16 –≤–µ—Ä—Å–∏–∏ PostgreSQL –Ω–∞ 17 –≤–µ—Ä—Å–∏—é.

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Sherpa AI Server —Å MySQL –Ω–∞ PostgreSQL. –ú–∏–≥—Ä–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

{% hint style="info" %}
**–í–ù–ò–ú–ê–ù–ò–ï!** –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –û–¢–ö–ê–ó–ê–¢–¨–°–Ø –û–¢ –î–ê–ù–ù–´–• (–ï–°–õ–ò –û–ù–ò –í–ê–ú –ù–ï –ù–£–ñ–ù–´) —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤–º–µ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ c –Ω—É–ª—è:
{% endhint %}

{% embed url="https://docs.sherparpa.ru/sherpa-ai/sherpa-ai-server/ustanovka-sherpa-ai-server" %}

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏:

* **–°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ**: –º–∏–Ω–∏–º—É–º 2x —Ä–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–¥–ª—è –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö + –º–∏–≥—Ä–∞—Ü–∏—è)
* **–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å**: –º–∏–Ω–∏–º—É–º 4 –ì–ë RAM –¥–ª—è pgloader
* **Docker**: –≤–µ—Ä—Å–∏—è 20.10+ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Docker Compose
* **–°–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

#### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
df -h

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—É—é –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å
free -h

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Docker
docker --version
docker compose version

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
docker ps | grep -E "(mysql|postgres)"
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–≤–µ—Ä–∫–∞–º</summary>

**df -h** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –≤ —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –º–∏–Ω–∏–º—É–º –≤ 2 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä–∞ –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**free -h** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏

* –î–ª—è pgloader —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 4 –ì–ë RAM
* –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –ø–∞–º—è—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π "Heap exhausted"

**docker --version** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–µ—Ä—Å–∏—é Docker

* –¢—Ä–µ–±—É–µ—Ç—Å—è Docker 20.10+ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π

**docker compose version** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–µ—Ä—Å–∏—é Docker Compose

* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ compose –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

**docker ps** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

* –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã mysql/postgres –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º

</details>

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏

#### –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤

–ï—Å–ª–∏ –∫–æ–Ω—Ç—É—Ä –∑–∞–∫—Ä—ã—Ç, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫–∞—á–∞—Ç—å –∑–∞—Ä–∞–Ω–µ–µ –ê–†–•–ò–í–´ –î–õ–Ø –£–°–¢–ê–ù–û–í–ö–ò –∏ –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:

```bash
curl -fSL -OJ https://sherparpa.ru/downloads/private/SherpaAIServer/pgloader_image.tar
curl -fSL -OJ https://sherparpa.ru/downloads/private/SherpaAIServer/alpine_image.tar
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–∫–∞—á–∏–≤–∞–Ω–∏—é —Ñ–∞–π–ª–æ–≤</summary>

**curl -fSL -OJ** - —Å–∫–∞—á–∏–≤–∞–µ—Ç —Ñ–∞–π–ª—ã —Å —Å–µ—Ä–≤–µ—Ä–∞

* `-f` - —Ç–∏—Ö–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞
* `-S` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –¥–∞–∂–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ -f
* `-L` - —Å–ª–µ–¥—É–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º
* `-O` - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞
* `-J` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–º—è —Ñ–∞–π–ª–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–µ —Å–µ—Ä–≤–µ—Ä–æ–º

**pgloader\_image.tar** - Docker-–æ–±—Ä–∞–∑ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º pgloader –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö **alpine\_image.tar** - –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π Linux-–æ–±—Ä–∞–∑ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∞–π–ª–∞–º–∏

</details>

–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/opt/SherpaAIServerNew` –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ –Ω–µ–µ –≤—Å–µ —Å–∫–∞—á–∞–Ω–Ω—ã–µ –∞—Ä—Ö–∏–≤—ã –ò –§–ê–ô–õ–´ –ò–ó –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –£–°–¢–ê–ù–û–í–ö–ï:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏
sudo mkdir -p /opt/SherpaAIServerNew

# –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –Ω–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
sudo mv pgloader_image.tar /opt/SherpaAIServerNew/
sudo mv alpine_image.tar /opt/SherpaAIServerNew/
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏</summary>

**sudo mkdir -p** - —Å–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø–∞–ø–∫–∞–º–∏

* `-p` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –µ—Å–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**sudo mv** - –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç —Ñ–∞–π–ª—ã –≤ –Ω–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

* –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ `/opt/SherpaAIServerNew` –∏–∑–æ–ª–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –æ—Ç —Ç–µ–∫—É—â–µ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏

</details>

**–ß—Ç–æ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è:**

* `pgloader_image.tar` - Docker-–æ–±—Ä–∞–∑ —Å pgloader –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
* `alpine_image.tar` - –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –æ–±—Ä–∞–∑ Alpine Linux –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å volume (–Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–∞—à—É —Ç–µ–∫—É—â—É—é –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω—É—é —Å–∏—Å—Ç–µ–º—É)

#### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

1. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∫—Ä–æ–º–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö:**

```bash
docker compose stop orchestrator embed nginx vllm
docker-compose stop orchestrator embed nginx vllm
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤</summary>

**docker compose stop** - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è

* `orchestrator` - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏
* `embed` - —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
* `nginx` - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ–∫—Å–∏
* `vllm` - —Å–µ—Ä–≤–∏—Å —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏

**–î–≤–µ –∫–æ–º–∞–Ω–¥—ã** - –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –æ–±–µ –≤–µ—Ä—Å–∏–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ **–û—Å—Ç–∞–≤—à–∏–µ—Å—è —Å–µ—Ä–≤–∏—Å—ã** - `pgembeding` (PostgreSQL —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏) –∏ `orchestrator-db` (MySQL) –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º

</details>

{% hint style="info" %}
**–ü–æ—á–µ–º—É –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã:** –í–æ –≤—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–∫–ª—é—á–∏—Ç—å –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.
{% endhint %}

{% hint style="info" %}
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ù–µ –Ω—É–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Ç–æ–ª—å–∫–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å. –î–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è `pgembeding` –∏ `orchestrator-db`.
{% endhint %}

#### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–º–µ–Ω volumes:**

–°–Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ volumes –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ:

```bash
docker volume list
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é volumes</summary>

**docker volume list** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ Docker volumes –≤ —Å–∏—Å—Ç–µ–º–µ

* `DRIVER` - —Ç–∏–ø –¥—Ä–∞–π–≤–µ—Ä–∞ (–æ–±—ã—á–Ω–æ local)
* `VOLUME NAME` - —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è volume

**–ü—Ä–µ—Ñ–∏–∫—Å –∏–º–µ–Ω** - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:

* –î–ª—è –ø–∞–ø–∫–∏ `SherpaAIServer` ‚Üí –ø—Ä–µ—Ñ–∏–∫—Å `sherpaaiserver_`
* –î–ª—è –ø–∞–ø–∫–∏ `myproject` ‚Üí –ø—Ä–µ—Ñ–∏–∫—Å `myproject_`

**–û—Å–Ω–æ–≤–Ω—ã–µ volumes:**

* `*orchestrator-mysql-data` - –¥–∞–Ω–Ω—ã–µ MySQL –±–∞–∑—ã
* `*pgdata` - –¥–∞–Ω–Ω—ã–µ PostgreSQL –±–∞–∑—ã
* `*storage` - —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

</details>

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
DRIVER    VOLUME NAME
local     sherpaaiserver_orchestrator-mysql-data
local     sherpaaiserver_pgdata
local     sherpaaiserver_storage
```

**–°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ volume:**

–ó–∞–º–µ–Ω–∏—Ç–µ –∏–º–µ–Ω–∞ volumes –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∏–∑ –≤–∞—à–µ–≥–æ —Å–ø–∏—Å–∫–∞:

```bash
# –ë—ç–∫–∞–ø MySQL –¥–∞–Ω–Ω—ã—Ö (–∑–∞–º–µ–Ω–∏—Ç–µ VOLUME_NAME –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ –∏–º—è)
docker run --rm -v VOLUME_NAME:/data -v $(pwd)/backup_mysql:/backup pgembeding tar czf /backup/mysql_backup.tar.gz -C /data .

# –ë—ç–∫–∞–ø PostgreSQL –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç) (–∑–∞–º–µ–Ω–∏—Ç–µ VOLUME_NAME –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ –∏–º—è —Å postgres)
docker run --rm -v VOLUME_NAME:/data -v $(pwd)/backup_pg:/backup pgembeding tar czf /backup/pg_backup.tar.gz -C /data .
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –±—ç–∫–∞–ø–æ–≤</summary>

**docker run --rm** - –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –µ–≥–æ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

* `--rm` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ volumes:**

* `-v VOLUME_NAME:/data` - –º–æ–Ω—Ç–∏—Ä—É–µ—Ç Docker volume –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
* `-v $(pwd)/backup_mysql:/backup` - –º–æ–Ω—Ç–∏—Ä—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏–≤–∞

**tar czf** - —Å–æ–∑–¥–∞–µ—Ç —Å–∂–∞—Ç—ã–π –∞—Ä—Ö–∏–≤

* `c` - —Å–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏–≤
* `z` - —Å–∂–∞—Ç—å —Å –ø–æ–º–æ—â—å—é gzip
* `f` - —É–∫–∞–∑–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞
* `-C /data .` - –∏–∑–º–µ–Ω—è–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –Ω–∞ /data –ø–µ—Ä–µ–¥ –∞—Ä—Ö–∏–≤–∞—Ü–∏–µ–π

**pgembeding** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—Ä–∞–∑ PostgreSQL —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

</details>

**–ü—Ä–∏–º–µ—Ä—ã —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏:**

–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ –ø–∞–ø–∫–µ `SherpaAIServer`:

```bash
docker run --rm -v sherpaaiserver_orchestrator-mysql-data:/data -v $(pwd)/backup_mysql:/backup pgembeding tar czf /backup/mysql_backup.tar.gz -C /data .
docker run --rm -v sherpaaiserver_pgdata:/data -v $(pwd)/backup_pg:/backup pgembeding tar czf /backup/pg_backup.tar.gz -C /data .
```

<details>

<summary>üí° –ü—Ä–∏–º–µ—Ä –¥–ª—è Sherpa AI Server</summary>

**–ü–µ—Ä–≤—ã–π volume:** `sherpaaiserver_orchestrator-mysql-data`

* –°–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ MySQL –±–∞–∑—ã orchestrator
* –ê—Ä—Ö–∏–≤ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `backup_mysql/mysql_backup.tar.gz`

**–í—Ç–æ—Ä–æ–π volume:** `sherpaaiserver_pgdata`

* –°–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ PostgreSQL –±–∞–∑—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
* –ê—Ä—Ö–∏–≤ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `backup_pg/pg_backup.tar.gz`

</details>

–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ –ø–∞–ø–∫–µ `myproject`:

```bash
docker run --rm -v myproject_orchestrator-mysql-data:/data -v $(pwd)/backup_mysql:/backup pgembeding tar czf /backup/mysql_backup.tar.gz -C /data .
docker run --rm -v myproject_pgdata:/data -v $(pwd)/backup_pg:/backup pgembeding tar czf /backup/pg_backup.tar.gz -C /data .
```

<details>

<summary>üí° –ü—Ä–∏–º–µ—Ä –¥–ª—è myproject</summary>

**–ü–µ—Ä–≤—ã–π volume:** `myproject_orchestrator-mysql-data`

* –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –Ω–æ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `myproject_`
* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω–æ–µ –∏–º—è –ø–∞–ø–∫–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

**–í—Ç–æ—Ä–æ–π volume:** `myproject_pgdata`

* PostgreSQL –¥–∞–Ω–Ω—ã–µ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º

</details>

<details>

<summary>üí° –ß—Ç–æ –¥–µ–ª–∞—é—Ç —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã</summary>

* –°–æ–∑–¥–∞—é—Ç —Å–∂–∞—Ç—ã–µ –∞—Ä—Ö–∏–≤—ã –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ Docker volume
* –ê—Ä—Ö–∏–≤—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backup_mysql` –∏ `backup_pg`

</details>

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤:**

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –∞—Ä—Ö–∏–≤–æ–≤
ls -lh backup_mysql/ backup_pg/

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∞—Ä—Ö–∏–≤–æ–≤
tar -tzf backup_mysql/mysql_backup.tar.gz | head -20
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –±—ç–∫–∞–ø–æ–≤</summary>

**ls -lh** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–∞—Ö

* `-l` - –¥–ª–∏–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
* `-h` - —Ä–∞–∑–º–µ—Ä—ã –≤ —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–º –≤–∏–¥–µ
* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∞—Ä—Ö–∏–≤—ã –∏–º–µ—é—Ç —Ä–∞–∑—É–º–Ω—ã–π —Ä–∞–∑–º–µ—Ä

**tar -tzf** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∞—Ä—Ö–∏–≤–∞ –±–µ–∑ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏

* `-t` - —Å–ø–∏—Å–æ–∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
* `-z` - —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é gzip
* `-f` - —É–∫–∞–∑–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞
* `| head -20` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–µ 20 —Ñ–∞–π–ª–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∞—Ä—Ö–∏–≤—ã –Ω–µ –ø—É—Å—Ç—ã–µ –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–∂–∏–¥–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

</details>

### –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

#### –†–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

1. **–†–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å client files:**

```bash
tar -xvzf "$(ls client_files_*.tgz | sort -V | tail -n 1)"
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—é</summary>

**tar -xvzf** - —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤

* `-x` - –∏–∑–≤–ª–µ—á—å
* `-v` - –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
* `-z` - —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é gzip
* `-f` - —É–∫–∞–∑–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞

**–ü–æ–¥–∫–æ–º–∞–Ω–¥–∞ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞:**

* `ls client_files_*.tgz` - –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –∞—Ä—Ö–∏–≤—ã client-files
* `sort -V` - —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –≤–µ—Ä—Å–∏–∏ (1.0, 1.1, 2.0 –∏ —Ç.–¥.)
* `tail -n 1` - –±–µ—Ä–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π (—Å–∞–º—ã–π —Å–≤–µ–∂–∏–π) —Ñ–∞–π–ª

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞–µ—Ç—Å—è –ø–∞–ø–∫–∞ `pgloader` —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

</details>

2. **–ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é pgloader:**

```bash
cd pgloader
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Ä–µ—Ö–æ–¥—É –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é</summary>

**cd pgloader** - –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –ø–∞–ø–∫—É —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

* –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∏–∑ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
* –°–æ–¥–µ—Ä–∂–∏—Ç —Å–∫—Ä–∏–ø—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è pgloader

</details>

3. **–ó–∞–≥—Ä—É–∑–∫–∞ Docker-–æ–±—Ä–∞–∑–∞ pgloader:**

```bash
./load_pgloader.sh
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–≥—Ä—É–∑–∫–µ –æ–±—Ä–∞–∑–∞</summary>

**./load\_pgloader.sh** - —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏ Docker-–æ–±—Ä–∞–∑–∞

* –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç `pgloader_image.tar` –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π Docker daemon
* –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Ä–∞–∑ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ `pgloader:latest`
* –ú–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞

</details>

4. **–°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏:**

```bash
./run.sh build
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–±–æ—Ä–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞</summary>

**./run.sh build** - —Å–æ–±–∏—Ä–∞–µ—Ç Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏

* –°–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞ pgloader
* –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
* –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≥–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –º–∏–≥—Ä–∞—Ü–∏–∏

</details>

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

**–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ `.env` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**

–í—Å–µ –ø–∞—Ä–æ–ª–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ñ–∞–π–ª–µ `oais/backend/config/config.ini`.

```env
# URI –¥–ª—è –∏—Å—Ö–æ–¥–Ω–æ–π MySQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
MIGRATE_MYSQL="mysql://user:pass@host:port/db"

# URI –¥–ª—è —Ü–µ–ª–µ–≤–æ–π PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
MIGRATE_PG="postgres://user:pass@host:port/db"

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∞–º–ø–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
DUMP_PATH="/path/–¥–ª—è/–¥–∞–º–ø–∞"
DUMP_URI="mysql://user:pass@host/db"

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
RESTORE_URI="postgres://user:pass@host/db"
RESTORE_PATH="/path/–∫/–¥–∞–º–ø—É.sql"
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏—è</summary>

**MIGRATE\_MYSQL** - URI –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏—Å—Ö–æ–¥–Ω–æ–π MySQL –±–∞–∑–µ

* –§–æ—Ä–º–∞—Ç: `mysql://username:password@host:port/database`
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è pgloader –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**MIGRATE\_PG** - URI –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ü–µ–ª–µ–≤–æ–π PostgreSQL –±–∞–∑–µ

* –§–æ—Ä–º–∞—Ç: `postgres://username:password@host:port/database`
* –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö

_DUMP\_ / RESTORE\__ \*\* - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–º–ø–æ–≤

* –ü–æ–ª–µ–∑–Ω—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏–ª–∏ –ø–æ—ç—Ç–∞–ø–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

</details>

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—á–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

```env
# –î–ª—è MySQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DUMP_URI="mysql://root:pass@91.206.149.183:3306/orchestrator"
MIGRATE_MYSQL="mysql://root:pass@91.206.149.183:3306/orchestrator"

# –î–ª—è PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
MIGRATE_PG="postgres://postgres:pass@91.206.149.183:5432/postgres"
```

<details>

<summary>üí° –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</summary>

**MySQL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

* –•–æ—Å—Ç: `91.206.149.183` (–≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä)
* –ü–æ—Ä—Ç: `3306` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–ª—è MySQL)
* –ë–∞–∑–∞: `orchestrator`
* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `root` (—Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏)

**PostgreSQL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

* –•–æ—Å—Ç: —Ç–æ—Ç –∂–µ —Å–µ—Ä–≤–µ—Ä
* –ü–æ—Ä—Ç: `5432` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–ª—è PostgreSQL)
* –ë–∞–∑–∞: `postgres` (—Å–∏—Å—Ç–µ–º–Ω–∞—è –±–∞–∑–∞)
* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `postgres` (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)

**–í–∞–∂–Ω–æ:** –ü–∞—Ä–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∑—è—Ç—ã –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `config.ini`

</details>

> **–í–∞–∂–Ω–æ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã –∏ —Ö–æ—Å—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Docker.

#### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

**–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

```bash
./run.sh dry-run
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ç–µ—Å—Ç–æ–≤–æ–º—É –∑–∞–ø—É—Å–∫—É</summary>

**./run.sh dry-run** - —Å–∏–º—É–ª—è—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

* –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –æ–±–µ–∏–º –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö
* –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –¥–∞–Ω–Ω—ã–µ
* –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
* –ù–µ –≤–Ω–æ—Å–∏—Ç –Ω–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ PostgreSQL

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:**

* –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
* –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö MySQL ‚Üí PostgreSQL
* –ù–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –∏ —Å–≤—è–∑–µ–π
* –û–∂–∏–¥–∞–µ–º—ã–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ dry-run –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª—å–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–µ–π

</details>

**–û—Å–Ω–æ–≤–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è**

```bash
./run.sh migrate
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏</summary>

**./run.sh migrate** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö

* –°–æ–∑–¥–∞–µ—Ç —Å—Ö–µ–º—É `orchestrator` –≤ PostgreSQL
* –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü —Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º —Ç–∏–ø–æ–≤
* –ö–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ MySQL –≤ PostgreSQL
* –°–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–µ–∫—Å—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

**–≠—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
2. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (—Ç–∞–±–ª–∏—Ü—ã, —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö)
4. –ü–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

**–í–∞–∂–Ω–æ:** –ü—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ª–≥–∏–º –¥–ª—è –±–æ–ª—å—à–∏—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

</details>

**–û–ø—Ü–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–∏:**

* `--force` - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–∂–µ –µ—Å–ª–∏ —Å—Ö–µ–º–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
* `--build` - –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
* `--rmi` - —É–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–∑ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

{% hint style="info" %}
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –î–ª—è –±–∞–∑ –¥–æ 10 –ì–ë - –æ—Ç 30 –º–∏–Ω—É—Ç –¥–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Å–æ–≤. –î–ª—è –±–æ–ª—å—à–∏—Ö –±–∞–∑ - –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –∏–ª–∏ –¥–Ω–µ–π.
{% endhint %}

#### –û—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
# –£–¥–∞–ª–µ–Ω–∏–µ Docker-–æ–±—Ä–∞–∑–∞ pgloader (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
./run.sh rmi

# –í–æ–∑–≤—Ä–∞—Ç –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd ..
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ—á–∏—Å—Ç–∫–µ</summary>

**./run.sh rmi** - —É–¥–∞–ª—è–µ—Ç Docker-–æ–±—Ä–∞–∑ pgloader

* –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
* –£–¥–∞–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—ã –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
* –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**cd ..** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

* –í—ã—Ö–æ–¥–∏—Ç –∏–∑ –ø–∞–ø–∫–∏ pgloader
* –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ SherpaAIServer

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –æ—á–∏—Å—Ç–∫—É —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏

</details>

### –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–æ–≤—ã–µ volumes

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø–µ—Ä–µ–Ω–æ—Å —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –º–µ–∂–¥—É Docker volumes.

#### –ó–∞–≥—Ä—É–∑–∫–∞ Alpine –æ–±—Ä–∞–∑–∞

```bash
docker load -i alpine_image.tar
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–≥—Ä—É–∑–∫–µ Alpine</summary>

**docker load -i** - –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç Docker-–æ–±—Ä–∞–∑ –∏–∑ tar-–∞—Ä—Ö–∏–≤–∞

* `-i` - —á–∏—Ç–∞—Ç—å –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ tar-–∞—Ä—Ö–∏–≤–∞
* –ó–∞–≥—Ä—É–∂–∞–µ—Ç –æ–±—Ä–∞–∑ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π Docker daemon

**Alpine Linux** - –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ Linux

* –†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞ \~5-10 –ú–ë (–≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å Ubuntu \~100+ –ú–ë)
* –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (cp, ls, tar –∏ —Ç.–¥.)
* –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∞–π–ª–∞–º–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –î–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É Docker volumes

</details>

#### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ volume

```bash
docker volume create aiserver-storage
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–æ–∑–¥–∞–Ω–∏—é volume</summary>

**docker volume create** - —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π Docker volume

* `aiserver-storage` - –∏–º—è –¥–ª—è –Ω–æ–≤–æ–≥–æ volume
* Volume —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—É—Å—Ç—ã–º –∏ –≥–æ—Ç–æ–≤—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ volume:**

* –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Docker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
* –î–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º –Ω–∞ —Ö–æ—Å—Ç–µ
* –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ Docker daemon
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç snapshot –∏ backup –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤ Sherpa AIServer (–∑–∞–≥—Ä—É–∑–∫–∏, –∫—ç—à, –ª–æ–≥–∏ –∏ —Ç.–¥.)

</details>

#### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö volumes

**–ù–∞–π—Ç–∏ –∏–º–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö volumes:**

```bash
docker volume list
```

<details>

<summary>üí° –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ volumes</summary>

**docker volume list** - –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–∏—Å–∫–∞ volumes

* –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –≤—Å–µ volumes –¥–æ—Å—Ç—É–ø–Ω—ã
* –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏–º–µ–Ω –ø–µ—Ä–µ–¥ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö

**–í–∞–∂–Ω–æ:** –°—Ä–∞–≤–Ω–∏—Ç–µ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–µ—Ä–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ volumes –Ω–µ –±—ã–ª–∏ —Å–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–µ–Ω—ã
* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

</details>

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ (–∏–º–µ–Ω–∞ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞):

```
DRIVER    VOLUME NAME
local     sherpaaiserver_orchestrator-mysql-data
local     sherpaaiserver_pgdata
local     sherpaaiserver_storage
```

–ò–ª–∏, –µ—Å–ª–∏ –ø–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–∞—á–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `myproject`):

```
DRIVER    VOLUME NAME
local     myproject_orchestrator-mysql-data
local     myproject_pgdata
local     myproject_storage
```

#### –ü–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É volumes

**–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:**

–í –∫–æ–º–∞–Ω–¥–µ –Ω–∏–∂–µ –∑–∞–º–µ–Ω–∏—Ç–µ `STORAGE_DATA` –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ —Ç–µ–∫—É—â–µ–≥–æ volume –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `sherpaaiserver_storage`):

```bash
docker run --rm \
  -v STORAGE_DATA:/from \
  -v aiserver-storage:/to \
  alpine ash -c "cp -av /from/. /to/"
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Ä–µ–Ω–æ—Å—É –¥–∞–Ω–Ω—ã—Ö</summary>

**docker run --rm** - –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Alpine

* `--rm` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–¥–∞–ª–∏—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ volumes:**

* `-v STORAGE_DATA:/from` - –∏—Å—Ö–æ–¥–Ω—ã–π volume –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ /from
* `-v aiserver-storage:/to` - —Ü–µ–ª–µ–≤–æ–π volume –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ /to

**ash -c** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ shell Alpine

* `ash` - Almquist shell (–ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π)
* `-c` - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É

**cp -av /from/. /to/** - –∫–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã

* `-a` - —Ä–µ–∂–∏–º –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–∞–≤–∞, –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏)
* `-v` - –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
* `/from/.` - –∫–æ–ø–∏—Ä—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –∞ –Ω–µ —Å–∞–º—É –ø–∞–ø–∫—É /from
* `/to/` - –≤ —Ü–µ–ª–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

**–ü—Ä–∏–º–µ—Ä –∑–∞–º–µ–Ω—ã:** `STORAGE_DATA` ‚Üí `sherpaaiserver_storage`

</details>

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–æ–≤–æ–≥–æ volume
docker run --rm -v aiserver-storage:/data alpine ls -la /data

# –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã (–ø—Ä–∏–º–µ—Ä–Ω—ã–µ)
docker run --rm -v STORAGE_DATA:/data alpine du -sh /data
docker run --rm -v aiserver-storage:/data alpine du -sh /data
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è</summary>

**docker run --rm -v aiserver-storage:/data alpine ls -la /data**

* –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–æ–≤–æ–≥–æ volume
* `ls -la` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
* –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**docker run --rm -v STORAGE\_DATA:/data alpine du -sh /data**

* –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä –∏—Å—Ö–æ–¥–Ω–æ–≥–æ volume
* `du -sh` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞, —Å–≤–æ–¥–∫–∞, —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç
* –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–Ω–æ—Ç—ã –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

**–û–∂–∏–¥–∞–Ω–∏—è:**

* –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å
* –†–∞–∑–º–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–≤–Ω—ã
* –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–π

**–ï—Å–ª–∏ —Ä–∞–∑–º–µ—Ä—ã –æ—Ç–ª–∏—á–∞—é—Ç—Å—è:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –æ—à–∏–±–∫–∏

</details>

### –ú–∏–≥—Ä–∞—Ü–∏—è —Å PostgreSQL 16 –Ω–∞ 17 –≤–µ—Ä—Å–∏—é

#### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –≤–µ—Ä—Å–∏–∏ PostgreSQL

**–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:**

1. **–û—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ä—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—É—â–µ–Ω–Ω–æ–π** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `pgembeding` –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å
2. **–†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ client-files** - –≤ –∞—Ä—Ö–∏–≤–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ `docker-compose.yml` –∏ `.env`
3. **–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** - —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏ `/opt/SherpaAIServer/oais/backend/config/config.ini` –≤ –Ω–æ–≤—ã–π `.env`
4. **–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç** - –≤—Ä–µ–º–µ–Ω–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—Ä—Ç 5433 –¥–ª—è –Ω–æ–≤–æ–π PostgreSQL, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞

#### –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∞—Ä—Ö–∏–≤–∞ —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏

```bash
# –ù–∞–π–¥–∏—Ç–µ –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–∞–º–∞—è —Å–≤–µ–∂–∞—è –≤–µ—Ä—Å–∏—è)
tar -xvzf "$(ls client_files_*.tgz | sort -V | tail -n 1)"
```

<details>

<summary>üí° –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞</summary>

* `ls client_files_*.tgz` - –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –∞—Ä—Ö–∏–≤–æ–≤
* `sort -V` - —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤–µ—Ä—Å–∏–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ (1.0 < 1.1 < 1.10)
* `tail -n 1` - –≤—ã–±–∏—Ä–∞–µ—Ç —Å–∞–º—ã–π —Å–≤–µ–∂–∏–π —Ñ–∞–π–ª
* `tar -xvzf` - —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤ —Å –≤—ã–≤–æ–¥–æ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `sh_scripts/` —Å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –∏ –¥—Ä—É–≥–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã.

</details>

#### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏
cd sh_scripts/

# –°–¥–µ–ª–∞–π—Ç–µ –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x *.sh

# –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd ..
```

<details>

<summary>üí° –ß—Ç–æ –¥–µ–ª–∞—é—Ç —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã</summary>

* `chmod +x *.sh` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö shell-—Å–∫—Ä–∏–ø—Ç–æ–≤
* –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö —É—Å—Ç–∞–Ω–æ–≤–∫–∏

</details>

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞:

–ü–æ—Å–ª–µ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

* `sh_scripts/` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏
  * `download_all_latest_docker_images.sh` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è Docker-–æ–±—Ä–∞–∑–æ–≤
  * `load_all_docker_images.sh` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—Ä–∞–∑–æ–≤ –≤ Docker
  * `extract_models.sh` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –º–æ–¥–µ–ª–µ–π –ò–ò
  * `extract_llama.sh` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ LLM-–º–æ–¥–µ–ª–µ–π
* `docker-compose.yml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
* `.env` - —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã

#### –ó–∞–≥—Ä—É–∑–∫–∞ Docker-–æ–±—Ä–∞–∑–æ–≤

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏ Docker-–æ–±—Ä–∞–∑–æ–≤
sudo ./sh_scripts/load_all_docker_images.sh
```

<details>

<summary>üí° –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç</summary>

1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ Docker-–æ–±—Ä–∞–∑—ã –∏–∑ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö .tar.gz —Ñ–∞–π–ª–æ–≤
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞–∑—ã –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π Docker registry
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏

</details>

#### –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –º–æ–¥–µ–ª–µ–π –ò–ò

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
sudo ./sh_scripts/extract_models.sh
```

<details>

<summary>üí° –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç</summary>

1. –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å Whisper –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
2. –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å BGE Reranker –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞
3. –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
4. –°–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
5. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏

</details>

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ LLM –º–æ–¥–µ–ª–∏
sudo ./sh_scripts/extract_llama.sh
```

<details>

<summary>üí° –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç</summary>

1. –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å Llama 3 –¥–ª—è —è–∑—ã–∫–æ–≤–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è
2. –£–¥–∞–ª—è–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å `model-store/` –∏–∑ –ø—É—Ç–µ–π —Ñ–∞–π–ª–æ–≤
3. –ü–æ–º–µ—â–∞–µ—Ç —Ñ–∞–π–ª—ã –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –º–æ–¥–µ–ª–µ–π
4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å–ª–µ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏

</details>

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ø–æ—Å–ª–µ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏(–ø—Ä–∏–º–µ—Ä–Ω–∞—è):

```
./whisper/
‚îî‚îÄ‚îÄ models/
    ‚îú‚îÄ‚îÄ base.pt
    ‚îî‚îÄ‚îÄ ...

./bge_reranker/
‚îî‚îÄ‚îÄ models/
    ‚îî‚îÄ‚îÄ bge-reranker-large/
        ‚îú‚îÄ‚îÄ config.json
        ‚îú‚îÄ‚îÄ model.bin
        ‚îî‚îÄ‚îÄ ...

./embed-server/app/
‚îî‚îÄ‚îÄ model-store/
    ‚îî‚îÄ‚îÄ sentence-transformers/
        ‚îî‚îÄ‚îÄ paraphrase-multilingual-MiniLM-L12-v2/
            ‚îú‚îÄ‚îÄ config.json
            ‚îú‚îÄ‚îÄ pytorch_model.bin
            ‚îî‚îÄ‚îÄ ...

./llm-server/models/
‚îú‚îÄ‚îÄ meta-llama/
‚îÇ   ‚îî‚îÄ‚îÄ Meta-Llama-3-8B-Instruct/
‚îÇ       ‚îú‚îÄ‚îÄ config.json
‚îÇ       ‚îú‚îÄ‚îÄ model-00001-of-00004.safetensors
‚îÇ       ‚îú‚îÄ‚îÄ model-00002-of-00004.safetensors
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ tokenizer.json
```

#### –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ PostgreSQL

```bash
docker compose up -d
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–ø—É—Å–∫—É –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏</summary>

**docker compose up -d** - –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å—ã –≤ —Ñ–æ–Ω–µ

* `-d` - –æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º (—Ä–∞–±–æ—Ç–∞ –≤ —Ñ–æ–Ω–µ)
* –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–∑ docker-compose.yml
* –í–∫–ª—é—á–∞–µ—Ç PostgreSQL 17 –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ aiserver-pg

**–í–∞–∂–Ω–æ:**

* –°—Ç–∞—Ä–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å
* –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É (5433)
* –ü—Ä–æ—Ü–µ—Å—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç

</details>

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø—É—Å–∫–∞:**

```bash
# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
docker logs aiserver

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps | grep aiserver
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É</summary>

**docker logs aiserver** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

* –°–ª–µ–¥–∏—Ç –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ PostgreSQL
* –ò—â–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π
* –ü—Ä–µ—Ä—ã–≤–∞—Ç—å –º–æ–∂–Ω–æ Ctrl+C

**docker ps | grep aiserver** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å

* `docker ps` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
* `grep aiserver` - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ –∏–º–µ–Ω–∏
* –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä aiserver-pg –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Up

</details>

#### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö

**–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∫—Ä–æ–º–µ –Ω–æ–≤–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**

```bash
docker-compose stop aiserver-db aiserver aiserver-code_interpreter aiserver-llm-server aiserver-embed aiserver-whisper aiserver-bge_reranker
docker compose stop aiserver-db aiserver aiserver-code_interpreter aiserver-llm-server aiserver-embed aiserver-whisper aiserver-bge_reranker
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤</summary>

**docker compose stop** - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

* –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–±–µ –≤–µ—Ä—Å–∏–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
* –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã Sherpa AIServer –∫—Ä–æ–º–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**

* `aiserver-db` - —Å—Ç–∞—Ä–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
* `aiserver` - –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
* `aiserver-code_interpreter` - –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –∫–æ–¥–∞
* `aiserver-llm-server` - —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å
* `aiserver-embed` - —Å–µ—Ä–≤–∏—Å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
* `aiserver-whisper` - —Å–µ—Ä–≤–∏—Å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
* `aiserver-bge_reranker` - —Å–µ—Ä–≤–∏—Å —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ–ª—å–∫–æ `aiserver-pg` (–Ω–æ–≤–∞—è PostgreSQL) –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

</details>

#### –ü–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏

**–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö:**

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –¥–∞–º–ø –∏–∑ —Å—Ç–∞—Ä–æ–π –±–∞–∑—ã
docker exec -t postgres pg_dump -U postgres -d postgres -Fc -f /tmp/postgres.dump && \

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–º–ø –Ω–∞ —Ö–æ—Å—Ç
docker cp postgres:/tmp/postgres.dump ./postgres.dump && \

# 3. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –±–∞–∑—É –≤ –Ω–æ–≤–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker exec -it aiserver-pg psql -U postgres -d template1 -c "DROP DATABASE IF EXISTS postgres;" && \

# 4. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –±–∞–∑—É
docker exec -it aiserver-pg psql -U postgres -d template1 -c "CREATE DATABASE postgres;" && \

# 5. –°–æ–∑–¥–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
docker exec -it aiserver-pg psql -U postgres -d postgres -c "CREATE EXTENSION IF NOT EXISTS embedding;" && \
docker exec -it aiserver-pg psql -U postgres -d postgres -c "CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";" && \

# 6. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–º–ø –≤ –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker cp ./postgres.dump aiserver-pg:/tmp/postgres.dump && \

# 7. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
docker exec -t aiserver-pg pg_restore -U postgres -d postgres /tmp/postgres.dump
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Ä–µ–Ω–æ—Å—É –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ PostgreSQL</summary>

**–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–º–ø–∞ –∏–∑ —Å—Ç–∞—Ä–æ–π –±–∞–∑—ã**

* `docker exec -t postgres` - –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ postgres (–≤–µ—Ä—Å–∏—è 16)
* `pg_dump -U postgres -d postgres -Fc` - —Å–æ–∑–¥–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–º–ø–∞
* `-Fc` - —Å–∂–∞—Ç—ã–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–ª—É—á—à–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ë–î)
* –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `/tmp/postgres.dump` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**–®–∞–≥ 2: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–º–ø–∞ –Ω–∞ —Ö–æ—Å—Ç**

* `docker cp postgres:/tmp/postgres.dump ./postgres.dump`
* –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç –¥–∞–º–ø –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–∏—Å–∫
* –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

**–®–∞–≥ 3: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –±–∞–∑—ã –≤ –Ω–æ–≤–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ**

* –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–∏—Å—Ç–µ–º–Ω–æ–π –±–∞–∑–µ template1
* –£–¥–∞–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –±–∞–∑—É postgres (–µ—Å–ª–∏ –µ—Å—Ç—å)

**–®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –±–∞–∑—ã**

* –°–æ–∑–¥–∞–µ—Ç —á–∏—Å—Ç—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö postgres –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ aiserver-pg

**–®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π**

* `embedding` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
* `uuid-ossp` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è UUID (–Ω—É–∂–Ω–æ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–∞–±–ª–∏—Ü)

**–®–∞–≥ 6: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–º–ø–∞ –≤ –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**

* –û–±—Ä–∞—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
* –ü–æ–º–µ—â–∞–µ—Ç –¥–∞–º–ø –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä aiserver-pg

**–®–∞–≥ 7: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**

* `pg_restore` - –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–º–ø–∞
* `-t` - –≤—ã–¥–µ–ª—è–µ—Ç TTY –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã, –∏–Ω–¥–µ–∫—Å—ã –∏ –¥–∞–Ω–Ω—ã–µ

</details>

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–∏

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö

**–ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –Ω–æ–≤–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
docker exec -it aiserver-pg psql -U postgres -d postgres

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü
\dt orchestrator.*

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
SELECT schemaname, tablename, n_tup_ins AS rows
FROM pg_stat_user_tables
WHERE schemaname = 'orchestrator'
ORDER BY n_tup_ins DESC;

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
\dx

# –í—ã–π—Ç–∏ –∏–∑ psql
\q
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –±–∞–∑–æ–≤—ã–º –ø—Ä–æ–≤–µ—Ä–∫–∞–º</summary>

**docker exec -it aiserver-pg psql -U postgres -d postgres**

* –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ PostgreSQL –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ
* `-it` - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª
* `-U postgres` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å postgres
* `-d postgres` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö postgres

**\dt orchestrator.**\* - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Å—Ö–µ–º–µ orchestrator

* `\dt` - —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
* `orchestrator.*` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ö–µ–º–µ

**SELECT ... FROM pg\_stat\_user\_tables** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∞–±–ª–∏—Ü–∞–º

* `n_tup_ins` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ (–ø—Ä–∏–º–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π)
* –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∞–º—ã–µ –±–æ–ª—å—à–∏–µ —Ç–∞–±–ª–∏—Ü—ã

**\dx** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

* –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã `embedding` –∏ `uuid-ossp`

**\q** - –≤—ã—Ö–æ–¥ –∏–∑ psql

</details>

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã Sherpa AI Server**
2. **–í—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API**
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**
4. **–í—ã–ø–æ–ª–Ω–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏**

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

#### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

**–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –æ—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∑–∞ –ø–æ–º–æ—â—å—é –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É, –∞ –ø–æ–∫–∞ –≤—ã –º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—Å—è –≤ —Å—Ç–∞—Ä—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é /opt/SherpaAIServer –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –ø—Ä–æ—à–ª—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Sherpa AI Server**

**"Heap exhausted" –∏–ª–∏ –Ω–µ—Ö–≤–∞—Ç–∫–∞ –ø–∞–º—è—Ç–∏**

```
–†–µ—à–µ–Ω–∏–µ: –£–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ –¥–ª—è pgloader
export SBCL_DYNAMIC_SPACE_SIZE=8192
```

**–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**

```
–ü—Ä–æ–≤–µ—Ä–∫–∏:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤: telnet host port
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç–µ–≤—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```

**–ù–∞—Ä—É—à–µ–Ω–∏–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö**

```
–î–µ–π—Å—Ç–≤–∏—è:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ pgloader: cat migrate.log
2. –°—Ä–∞–≤–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –∏—Å—Ö–æ–¥–Ω–æ–π –∏ —Ü–µ–ª–µ–≤–æ–π –ë–î
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –∏ –∏–Ω–¥–µ–∫—Å–æ–≤
```

**–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏**

```
–î–µ–π—Å—Ç–≤–∏—è:
- –ù–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
- –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å –ª–æ–≥–∞–º–∏
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å: migrate.log, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é .env, —Ä–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É –º–∏–≥—Ä–∞—Ü–∏–∏</summary>

**tail -f migrate.log** - —Å–ª–µ–¥–∏—Ç –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

* `-f` - —Å–ª–µ–¥–∏—Ç—å (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫)
* –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏ pgloader
* –ò—â–µ—Ç –æ—à–∏–±–∫–∏ –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

**docker stats** - –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

* –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç CPU, –ø–∞–º—è—Ç—å, —Å–µ—Ç—å, –¥–∏—Å–∫ –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
* –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–∏—Å—Ç–µ–º—É
* –ü—Ä–µ—Ä—ã–≤–∞—Ç—å Ctrl+C

**watch -n 30** - –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

* –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤–æ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö orchestrator
* `watch` - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥
* `-n 30` - –∏–Ω—Ç–µ—Ä–≤–∞–ª 30 —Å–µ–∫—É–Ω–¥

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –î–µ—Ä–∂–∞—Ç—å —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö –≤–æ –≤—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏

</details>

### –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:**

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã Sherpa AI Server**
2. **–í—ã–ø–æ–ª–Ω–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã**
3. **–£–¥–∞–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

> **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ª–æ–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –±—É–¥—É—â–∏—Ö —Å—Å—ã–ª–æ–∫.
