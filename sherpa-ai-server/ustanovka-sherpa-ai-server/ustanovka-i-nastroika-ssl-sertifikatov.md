# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

## –ü–æ–ª—É—á–µ–Ω–∏–µ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

Sherpa AIServer –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç HTTPS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏. –í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –æ–ø–∏—Å–∞–Ω—ã —Å–ø–æ—Å–æ–±—ã –ø–æ–ª—É—á–µ–Ω–∏—è SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ.

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

{% hint style="warning" %}
**–í–∞–∂–Ω–æ:** –ü—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–ª—É—á–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –≤–∞—à–µ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏ –∏–ª–∏ –≤ —Ü–µ–Ω—Ç—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏. –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ–±—ã—á–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –ò–¢-–æ—Ç–¥–µ–ª–æ–º –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ª—É—á—à—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
{% endhint %}

–ï—Å–ª–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –¥–æ–º–µ–Ω–æ–≤ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö.

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

–ï—Å–ª–∏ –≤ –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –µ—Å—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–µ–Ω—Ç—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (CA), –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤. –°–æ–æ–±—â–∏—Ç–µ –µ–º—É –¥–æ–º–µ–Ω –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏ –ø–æ–ª—É—á–∏—Ç–µ 2 —Ñ–∞–π–ª–∞: —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (`.crt`) –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (`.key`). –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏—Ö —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
mkdir -p ./oais/backend/config/certs/
mkdir -p ./embed-server/certs/

# –î–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ñ–∞–π–ª—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º)
cp your_certificate.crt ./oais/backend/config/certs/aiserver.crt
cp your_private.key ./oais/backend/config/certs/aiserver.key
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ–ª—É—á–µ–Ω–∏—é –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤</summary>

**mkdir -p ./oais/backend/config/certs/** - —Å–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

* `-p` - —Å–æ–∑–¥–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**mkdir -p ./embed-server/certs/** - —Å–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —Å–µ—Ä–≤–∏—Å–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

**cp your\_certificate.crt ./oais/backend/config/certs/aiserver.crt** - –∫–æ–ø–∏—Ä—É–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç **cp your\_private.key ./oais/backend/config/certs/aiserver.key** - –∫–æ–ø–∏—Ä—É–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á

**chmod 644 ./oais/backend/config/certs/\*.crt** - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ —á—Ç–µ–Ω–∏—è –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ **chmod 600 ./oais/backend/config/certs/\*.key** - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –Ω–∞ –∫–ª—é—á–∏

</details>

### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ Let's Encrypt

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –æ—Ç Let's Encrypt –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Certbot –Ω–∞ –º–∞—à–∏–Ω–µ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot

```bash
# –ù–∞ Ubuntu/Debian
sudo apt update
sudo apt install certbot

# –ù–∞ CentOS/RHEL
sudo yum install certbot

# –ù–∞ macOS (—Å Homebrew)
brew install certbot
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Certbot</summary>

**Ubuntu/Debian:**

* `sudo apt update` - –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
* `sudo apt install certbot` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Certbot

**CentOS/RHEL:**

* `sudo yum install certbot` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Certbot —á–µ—Ä–µ–∑ yum

**macOS:**

* `brew install certbot` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Certbot —á–µ—Ä–µ–∑ Homebrew

</details>

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è –¥–æ–º–µ–Ω–∞

```bash
# –ü–æ–ª—É—á–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ yourdomain.com –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω)
sudo certbot certonly --standalone -d yourdomain.com

# –ò–ª–∏ –¥–ª—è wildcard —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è DNS challenge)
sudo certbot certonly --manual --preferred-challenges=dns -d yourdomain.com -d *.yourdomain.com
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ–ª—É—á–µ–Ω–∏—é —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞</summary>

**sudo certbot certonly --standalone -d yourdomain.com** - –ø–æ–ª—É—á–∞–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –¥–æ–º–µ–Ω–∞

* `certonly` - –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
* `--standalone` - –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è HTTP-01 challenge
* `-d yourdomain.com` - —É–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ–º–µ–Ω –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

\*_sudo certbot certonly --manual --preferred-challenges=dns -d yourdomain.com -d .yourdomain.com_ - –ø–æ–ª—É—á–∞–µ—Ç wildcard —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

* `--manual` - —Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º (—Ç—Ä–µ–±—É–µ—Ç DNS-–∑–∞–ø–∏—Å–∏)
* `--preferred-challenges=dns` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DNS-01 challenge
* `-d *.yourdomain.com` - wildcard –¥–æ–º–µ–Ω

</details>

#### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –æ–Ω–∏ –±—É–¥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/etc/letsencrypt/live/yourdomain.com/`:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
sudo ls -la /etc/letsencrypt/live/yourdomain.com/

# –í—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
# cert.pem (—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)
# chain.pem (—Ü–µ–ø–æ—á–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤)
# fullchain.pem (–ø–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞)
# privkey.pem (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á)
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤</summary>

**sudo ls -la /etc/letsencrypt/live/yourdomain.com/** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏

* `/etc/letsencrypt/live/` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è Let's Encrypt
* `yourdomain.com/` - –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –¥–æ–º–µ–Ω–∞

**–§–∞–π–ª—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:**

* `cert.pem` - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–æ–º–µ–Ω–∞
* `chain.pem` - —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
* `fullchain.pem` - –ø–æ–ª–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å —Ü–µ–ø–æ—á–∫–æ–π
* `privkey.pem` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á

</details>

#### –ü–µ—Ä–µ–Ω–æ—Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –Ω–∞ —Ü–µ–ª–µ–≤—É—é –º–∞—à–∏–Ω—É

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞ –º–∞—à–∏–Ω—É, –≥–¥–µ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Sherpa AI Server:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω–µ
mkdir -p ./oais/backend/config/certs/

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–∑–∞–º–µ–Ω–∏—Ç–µ yourdomain.com –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω)
sudo scp /etc/letsencrypt/live/yourdomain.com/fullchain.pem user@target-server:./oais/backend/config/certs/aiserver.crt
sudo scp /etc/letsencrypt/live/yourdomain.com/privkey.pem user@target-server:./oais/backend/config/certs/aiserver.key

# –î–ª—è —Å–µ—Ä–≤–∏—Å–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
mkdir -p ./embed-server/certs/
sudo scp /etc/letsencrypt/live/yourdomain.com/fullchain.pem user@target-server:./embed-server/certs/embed.crt
sudo scp /etc/letsencrypt/live/yourdomain.com/privkey.pem user@target-server:./embed-server/certs/embed.key
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Ä–µ–Ω–æ—Å—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤</summary>

**mkdir -p ./oais/backend/config/certs/** - —Å–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

**sudo scp /etc/letsencrypt/live/yourdomain.com/fullchain.pem user@target-server:./oais/backend/config/certs/aiserver.crt** - –∫–æ–ø–∏—Ä—É–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

* `scp` - secure copy
* `fullchain.pem` - –ø–æ–ª–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å —Ü–µ–ø–æ—á–∫–æ–π
* –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –≤ `aiserver.crt`

**sudo scp /etc/letsencrypt/live/yourdomain.com/privkey.pem user@target-server:./oais/backend/config/certs/aiserver.key** - –∫–æ–ø–∏—Ä—É–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á

* `privkey.pem` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
* –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –≤ `aiserver.key`

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤:**

* –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: `./embed-server/certs/`
* –ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤: `embed.crt` –∏ `embed.key`

</details>

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

{% hint style="warning" %}
**–í–ù–ò–ú–ê–ù–ò–ï:** –°–∞–º–æ–ø–æ–¥–ø–∏—Å–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ —è–≤–ª—è—é—Ç—Å—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –∏ –±—É–¥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ—Ç—è—Ö!
{% endhint %}

#### –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Å –ø–æ–º–æ—â—å—é OpenSSL

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
mkdir -p ./oais/backend/config/certs/

# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
openssl genrsa -out ./oais/backend/config/certs/aiserver.key 2048

# –°–æ–∑–¥–∞–π—Ç–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–Ω–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
openssl req -new -x509 -key ./oais/backend/config/certs/aiserver.key -out ./oais/backend/config/certs/aiserver.crt -days 365 -subj "/C=RU/ST=State/L=City/O=Organization/CN=aiserver.sherparpa.ru"

# –î–ª—è —Å–µ—Ä–≤–∏—Å–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
mkdir -p ./embed-server/certs/
openssl genrsa -out ./embed-server/certs/embed.key 2048
openssl req -new -x509 -key ./embed-server/certs/embed.key -out ./embed-server/certs/embed.crt -days 365 -subj "/C=RU/ST=State/L=City/O=Organization/CN=embed.sherparpa.ru"
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤</summary>

**mkdir -p ./oais/backend/config/certs/** - —Å–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

**openssl genrsa -out ./oais/backend/config/certs/aiserver.key 2048** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á

* `genrsa` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è RSA –∫–ª—é—á–∞
* `-out file.key` - –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª
* `2048` - –¥–ª–∏–Ω–∞ –∫–ª—é—á–∞ –≤ –±–∏—Ç–∞—Ö

**openssl req -new -x509 -key keyfile.key -out certfile.crt -days 365 -subj "/C=RU/..."** - —Å–æ–∑–¥–∞–µ—Ç —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–Ω–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

* `req -new -x509` - —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–Ω–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
* `-key keyfile.key` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
* `-out certfile.crt` - –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
* `-days 365` - —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (1 –≥–æ–¥)
* `-subj "/C=RU/ST=State/L=City/O=Organization/CN=domain.com"` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—É–±—ä–µ–∫—Ç–µ

</details>

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ
openssl x509 -in ./oais/backend/config/certs/aiserver.crt -text -noout

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–∞ –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl rsa -in ./oais/backend/config/certs/aiserver.key -check
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤</summary>

**openssl x509 -in ./oais/backend/config/certs/aiserver.crt -text -noout** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ

* `x509` - –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å X.509 —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
* `-in file.crt` - –≤—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
* `-text` - –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
* `-noout` - –Ω–µ –≤—ã–≤–æ–¥–∏—Ç –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

**openssl rsa -in ./oais/backend/config/certs/aiserver.key -check** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á

* `rsa` - –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å RSA –∫–ª—é—á–∞–º–∏
* `-in file.key` - –≤—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª –∫–ª—é—á–∞
* `-check` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–ª—é—á–∞

</details>

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

–ü–æ—Å–ª–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:

```bash
# –î–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
chmod 644 ./oais/backend/config/certs/*.crt
chmod 600 ./oais/backend/config/certs/*.key

# –î–ª—è —Å–µ—Ä–≤–∏—Å–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
chmod 644 ./embed-server/certs/*.crt
chmod 600 ./embed-server/certs/*.key
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞</summary>

**chmod 644 ./oais/backend/config/certs/\*.crt** - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

* `644` - rw-r--r-- (—á—Ç–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö, –∑–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞)
* `*.crt` - –≤—Å–µ —Ñ–∞–π–ª—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

**chmod 600 ./oais/backend/config/certs/\*.key** - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏

* `600` - rw------- (—á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞)
* `*.key` - –≤—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø—Ä–∞–≤–∞–º:**

* `.crt` —Ñ–∞–π–ª—ã: 644 (—á—Ç–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö, –∑–∞–ø–∏—Å—å –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞)
* `.key` —Ñ–∞–π–ª—ã: 600 (—á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞)

</details>

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** –¥–ª—è production-—Å—Ä–µ–¥
2. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
3. **–•—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ** —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤** –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ strong cipher suites** –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –ª—é–±—ã–º –∏–∑ –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Sherpa AI Server.
