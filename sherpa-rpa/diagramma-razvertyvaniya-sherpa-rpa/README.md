# Диаграмма развертывания Sherpa RPA

Диаграмма развертывания Sherpa RPA под управлением Оркестратора выглядит следующим образом:

<figure><img src="../../.gitbook/assets/изображение (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

В хорошем качестве можно скачать здесь:

{% file src="../../.gitbook/assets/Диаграмма развертывания Sherpa RPA.pdf" %}

Схема описывает реализацию функционала на верхнем уровне, который обеспечивает автоматизацию бизнес-процессов, выполняемых на пользовательских рабочих местах и терминальных серверах путём роботизации (имитации действий пользователя при работе с информационными системами). Разработчики сценариев роботизации после тестирования передают сценарии в централизованное средство управления – Оркестратор.

Бизнес-пользователи на своих рабочих местах по требованию запускают Attended-сценарии автоматизации (требующие интерактивного взаимодействия робота или бизнес-процесса с пользователем), запуск осуществляется путём выбора сценария из списка установленных на рабочем месте, нажатия горячей клавиши, также возможен запуск сценариев из локального планировщика Windows и в автозагрузке.&#x20;

Оркестратор по событиям или входящим данным из внешней среды (через API), по команде робота или бизнес-пользователя или по расписанию запускает unattended-сценарии роботизации (выполняемые в учётных записях терминальных серверов без участия пользователя). Роботы обоих типов обмениваются с Оркестратором логами, задачами из очередей, централизованно хранимыми учетными данными и общими данными.&#x20;

В процессе исполнения сценария робот достигает поставленных задач путём имитации действий пользователя (включая действия с мышью и клавиатурой) в пользовательских интерфейсах десктоп-приложений, веб-приложений (исполняемых в браузере), а также путём взаимодействия с операционной системой и установленными приложениями и веб-сервисами с помощью разнообразных программных API. Уровень доступа робота к информационным системам и контурам клиента ограничивается и определяется уровнем доступа того пользователя, под учётной записью которого робот производит действия, описанные в сценарии. Для unattended-роботов рекомендуется создавать выделенные учетные записи с уровнями доступа, правами и ролями, определяемыми решаемой данным роботом бизнес-задачей.

Все компоненты Sherpa RPA устанавливается локально в сети Заказчика, без связи с внешними серверами или службами SaaS. Возможность и необходимость доступа компонентов платформы к внутренним и внешним системам определяется решаемой в рамках бизнес-процесса задачей. Развертывание рабочего места разработчика, рабочего места attended и unattended-роботов производится вручную с помощью соответствующих exe-инсталляторов, либо автоматически с помощью msi-инсталлятора с использованием механизма GPO. Установка Sherpa Coordinator Service производится в администраторской учетной записи терминального сервера с помощью exe-инсталлятора. По умолчанию развертывание Sherpa Orchestrator осуществляется с помощью Docker-контейнера.

## **Механизмы аутентификации**

Аутентификация Sherpa Attended Robot, Sherpa Unattended Robot, Sherpa Coordinator в Orchestrator осуществляется с помощью Bearer Token, передаваемого в заголовке запросов. Bearer Token сопоставляется с уникальным GUID каждого экземпляра Sherpa Attended Robot, Sherpa Unattended Robot, Sherpa Coordinator. Для аутентификации пользователей веб-интерфейса Orchestrator применяется авторизация с помощью пары логинпароль. При повторном входе используется сессионная кука, имеющая ограниченный срок жизни.

## **Логирование**

Для логирования используется компонент Monolog. События аудита и системные ошибки сохраняются в выделенную таблицу базы данных.
