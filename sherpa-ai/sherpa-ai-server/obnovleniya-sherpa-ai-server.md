# –û–±–Ω–æ–≤–ª–µ–Ω–∏—è Sherpa AI Server

### 1. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

–°–∫–∞—á–∞–π—Ç–µ –≤—Å–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ñ–∞–π–ª—ã –ø–æ —Å—Å—ã–ª–∫–∞–º –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π.

### 2. –ü–µ—Ä–µ–Ω–æ—Å —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–ü–æ—Å–ª–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ —Ü–µ–ª–µ–≤–æ–π Linux —Å–µ—Ä–≤–µ—Ä –ª—é–±—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º:

#### –ß–µ—Ä–µ–∑ SCP/SFTP

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp *.tar.gz *.tgz user@target-server:/path/to/installation/directory/
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Ä–µ–Ω–æ—Å—É —á–µ—Ä–µ–∑ SCP/SFTP</summary>

\*\*scp _.tar.gz .tgz user@target-server:/path/to/installation/directory/_ - –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

* `scp` - secure copy (–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)
* `*.tar.gz *.tgz` - —à–∞–±–ª–æ–Ω—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤
* `user@target-server` - —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
* `/path/to/installation/directory/` - –ø—É—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

</details>

#### –ß–µ—Ä–µ–∑ SFTP –∫–ª–∏–µ–Ω—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π SFTP –∫–ª–∏–µ–Ω—Ç (FileZilla, WinSCP, Cyberduck) –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

#### –ß–µ—Ä–µ–∑ —Å–µ—Ç–µ–≤—É—é –ø–∞–ø–∫—É

–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ SMB/CIFS, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫ Windows –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É `copy`.

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@target-server

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å —Ñ–∞–π–ª–∞–º–∏
cd /path/to/installation/directory

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
ls -la *.tar.gz *.tgz

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤
ls -lh *.tar.gz *.tgz
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–µ—Ä–µ–Ω–æ—Å–∞</summary>

**ssh user@target-server** - –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH

* `ssh` - secure shell
* `user@target-server` - —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**cd /path/to/installation/directory** - –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å —Ñ–∞–π–ª–∞–º–∏

\*\*ls -la _.tar.gz .tgz_ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö

* `-l` - –¥–ª–∏–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
* `-a` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã

\*\*ls -lh _.tar.gz .tgz_ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ –≤ —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

* `-h` - human readable (–ö–±, –ú–±, –ì–±)

</details>

### 3. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose down
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤</summary>

**docker compose down** - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã Docker Compose

* –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏ —É–¥–∞–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Å–µ—Ç–∏
* –°–æ—Ö—Ä–∞–Ω—è–µ—Ç volumes –∏ images

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏:** **docker ps -a | grep aiserver** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

* `docker ps -a` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–≤–∫–ª—é—á–∞—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ)
* `| grep aiserver` - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ –∏–º–µ–Ω–∏ aiserver

</details>

### 4. –ó–∞–≥—Ä—É–∑–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø —Ñ–∞–π–ª–∞ .env
cp .env .env.backup
# –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø config
cp ./oais/backend/config ./oais/backend/config_backup

# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏—Ö –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ
cp -r ./oais/backend/config/certs ./certs_backup

# –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ñ–∞–π–ª—ã
tar -xvzf "$(ls client_files_*.tgz | sort -V | tail -n 1)"

# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x sh_scripts/*.sh

# –ï—Å–ª–∏ —Å–æ–∑–¥–∞–≤–∞–ª—Å—è –±—ç–∫–∞–ø —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏—Ö
cp -r ./certs_backup/* ./oais/backend/config/certs/

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ Docker-–æ–±—Ä–∞–∑—ã
sudo ./sh_scripts/load_all_docker_images.sh
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–≥—Ä—É–∑–∫–µ Docker –æ–±—Ä–∞–∑–æ–≤</summary>

**–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π:**

* `cp .env .env.backup` - –±—ç–∫–∞–ø —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
* `cp ./oais/backend/config ./oais/backend/config_backup` - –±—ç–∫–∞–ø –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ config
* `cp -r ./oais/backend/config/certs ./certs_backup` - –±—ç–∫–∞–ø SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

**–†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞:**

* `tar -xvzf "$(ls client_files_*.tgz | sort -V | tail -n 1)"` - —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç —Å–≤–µ–∂–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ñ–∞–π–ª—ã
* `chmod +x sh_scripts/*.sh` - –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
* `cp -r ./certs_backup/* ./oais/backend/config/certs/` - –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

**sudo ./sh\_scripts/load\_all\_docker\_images.sh** - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ Docker-–æ–±—Ä–∞–∑—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:** **docker images | grep aiserver** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—ã aiserver

</details>

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª .env –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
nano ./.env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
grep -E "(POSTGRES_PASSWORD|X_API_TOKEN|HOST_IP)" .env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
cat .env | grep -v '^#' | grep '=' | wc -l
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è</summary>

**nano ./.env** - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

**grep -E "(POSTGRES\_PASSWORD|X\_API\_TOKEN|HOST\_IP)" .env** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

* `-E` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
* –ü–µ—Ä–µ—á–∏—Å–ª—è–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ |

**cat .env | grep -v '^#' | grep '=' | wc -l** - –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

* `cat .env` - –≤—ã–≤–æ–¥–∏—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
* `grep -v '^#'` - –∏—Å–∫–ª—é—á–∞–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
* `grep '='` - –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
* `wc -l` - –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫

</details>

### 6. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose up -d

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
# docker compose --profile whisper up -d
# docker compose --profile reranker up -d
# docker compose --profile full up -d
```

<details>

<summary>üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤</summary>

**docker compose up -d** - –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

* `-d` - detached mode (—Ñ–æ–Ω–æ–≤—ã–π —Ä–µ–∂–∏–º)

**Profiles –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**

* `--profile whisper` - –≤–∫–ª—é—á–∞–µ—Ç —Å–µ—Ä–≤–∏—Å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
* `--profile reranker` - –≤–∫–ª—é—á–∞–µ—Ç —Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è
* `--profile full` - –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞:**

* `docker compose ps` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
* `docker compose logs -f aiserver` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

</details>

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–∞ Sherpa AI Server –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.
