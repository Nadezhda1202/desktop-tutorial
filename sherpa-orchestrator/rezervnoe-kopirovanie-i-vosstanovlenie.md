# Резервное копирование и восстановление

Для осуществления резервного копирования (бэкапа) в Sherpa Orchestrator (версии с Docker) необходимо осуществить резервное копирование настроек, файла cache.bin, а также создать дамп данных из базы данных. Ниже представлена подробная пошаговая инструкция для осуществления резервного копирования (бэкапа) в Sherpa Orchestrator.

1\. Копирование настроек

Скопируйте папку config, находящуюся по указанному пути: `папка_установки/backend/config`

(по умолчанию путь: `opt/SherpaOrchestrator/backend/config`).

2\. Копирование файла cache.bin

Скопируйте файл cache.bin, находящийся внутри Docker-контейнера Orchestrator. Путь, по которому находится файл внутри контейнера:

`opt/SherpaOrchestrator/backend/app/cache.bin`

Также можно использовать следующую команду в терминале:

`docker cp orchestrator:/opt/SherpaOrchestrator/backend/app/cache.bin /путь_куда_осуществляем_копирование`

3\. Создание дампа базы данных

* войдите в контейнер с базой данных:\
  `docker exec -it orchestrator-db bash`
* создайте дамп данных и структуры базы данных:\
  `mysqldump -u root --max-allowed-packet=1G --single-transaction orchestrator > /orchestrator_db_dump.sql`

**Примечание:** _в случае, если изменяли стандартные доступы о базы данных, в запросе замените -u root на -u ваш\_логин -p._

* выйдите из контейнера (команда “exit”).
* скопируйте дамп из контейнера на хостовую машину:\
  `docker cp orchestrator-db:/orchestrator_db_dump.sql/путь_куда_осуществляем_копирование`
