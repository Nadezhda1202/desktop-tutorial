# Лог

Позволяет управлять Логами. Пользователь может создавать новый Лог, получить информацию о Логе, обновить информацию о Логе, а также удалить Лог.

В верхней части страницы располагается таблица со всеми уровнями Логирования:

<figure><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXfC1q6UGdy0MTk-uUT0Qw0IPc5Z6MpzRZvSrRlPXtvZ0bI3eStSVZq0_BkQIC5CZ_sOXowf5wbKlAIoNcYXwvuj7QQUmTDbkXfGxf_PqNZAfDSGR8up_75YOHVNt2sJf6wqKWFHVQ?key=o0FHaGHt8wdv-FpDKfCXmTRa" alt=""><figcaption></figcaption></figure>

В нижней части располагаются вкладки с методами:

<figure><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXc4H68LoMApE6DMyMBWrn4Xsv0SiHtR8uPattT5WAhGr6oCdBiHqgO8qPk6cbrsWjHfSe7TUaSEh8trZWC6fiW4qPPRyP0dxd1Iwwpga7gG5GS-72_LhCFtkn1GGmSO86XDMgHuLA?key=o0FHaGHt8wdv-FpDKfCXmTRa" alt=""><figcaption></figcaption></figure>

По клику на иконку ![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXdLSwPtQVC_CWGdJC5sEIG5IjqYoWO9lCnhZ0CxghJ7fnAhGpOJAOU_9RG0IbhEXrTZ01b-i7_bQZY8w6XyFfuoFjSweEl4P5YaE-KaYeqgqS6Af9ZW46VoBYYf67s1cHfEzyzA_A?key=o0FHaGHt8wdv-FpDKfCXmTRa) справа от нужного метода, раскрывается соответствующая страница:

1\) Создание Лога

* Эндпоинт: /api/log/create&#x20;
* Метод: POST;
* Авторизация: обязательна;
* Параметры:

RobotGUID: GUID Робота;

ProcessVersionGUID: GUID версии Процесса;

JobGUID: GUID Работы;

Level: уровень Логирования;

Message (обязательно): текст Лога.

* Пример:

| Запрос                                                                                                                                                                                                                                                                                                    | Ответ  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ |
| <p>```json</p><p>   {</p><p>   "RobotGUID": "16f94238-ede9-435b-a001-1489b32e7dc2",</p><p>   "ProcessVersionGUID": "c39713ea-d8b9-4669-976e-5ff39677dc64",</p><p>   "JobGUID": "70ce211b-3c9a-48f6-8e71-11088b41b825",</p><p>   "Level": 1,</p><p>   "Message": "no message",</p><p>   }</p><p>   ```</p> |   \[]  |

&#x20;2\) Получение информации о Логе по GUID

* Эндпоинт: /api/log/read/{guid}&#x20;
* Метод: GET;
* Авторизация: обязательна;
* Параметры:

Guid (обязательно): Guid Лога.

* Пример:

| Запрос                                              | Ответ                                                                                                                                                                                                                                                                                                                                                                      |
| --------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| /api/log/read/c39713ea-d8b9-4669-976e-5ff39677dc64  | <p>```json</p><p>   {</p><p>   "id": "1",</p><p>   "guid": "16f94238-ede9-435b-a001-1489b32e7dc2",</p><p>   "robot_id": "16",</p><p>   "process_version_id": "39",</p><p>   "job_id": "70",</p><p>   "Level": 1,</p><p>   "Message": "no message",</p><p>   "created_at": "2023-09-17 15:39:06",</p><p>   "updated_at": "2023-09-17 16:39:06",</p><p>   }</p><p>   ```</p> |

&#x20;3\) Получение списка файлов, связанных с GUID

* Эндпоинт: /api/log/list
* Метод: POST;
* Авторизация: обязательна;
* Параметры: нет.
* Пример:

| Запрос        | Ответ  |
| ------------- | ------ |
| /api/log/list |   \[]  |

4\) Удаление Логов, принадлежащих текущей учетной записи и созданных до выбранного времени

* Эндпоинт: /api/log/purge&#x20;
* Метод: DELETE;
* Авторизация: обязательна;
* Параметры:

Time (обязательно): временная метка в формате Unix (Unix timestamp);

* Пример:

| Запрос                                                                           | Ответ  |
| -------------------------------------------------------------------------------- | ------ |
| <p>```json</p><p>   {</p><p>   "Time": "1590481487",</p><p>   }</p><p>   ```</p> |   \[]  |
