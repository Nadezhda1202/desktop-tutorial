# Авторизация Пользователей

## **Локальная авторизация**

Для создания Пользователя с локальной авторизацией\
необходимо установить флаг **“Локальная”** в форме\
создания нового Пользователя, а затем в соответствующих\
полях указать логин Аккаунта и пароль к нему.&#x20;

## **LDAP-аутентификация**

Для создания Пользователя с методом входа в систему\
&#xNAN;**“LDAP-аутентификация”** необходимо установить флаг:\
&#xNAN;**“Использовать LDAP аутентификацию”**.\
Затем заполнить поле **“Пользователи LDAP”**.&#x20;

Для использования LDAP-аутентификации необходимо\
в файле `config.ini`, расположенном по пути: \
`/opt/SherpaOrchestrator/backend/config/config.ini`,\
заполнить соответствующие параметры:

* l**dap\_server;**
* **ldap\_port;**
* **ldap\_encryption;**
* **ldap\_base\_dn;**
* **ldap\_group.**

Затем перезапустить контейнер для установки через Docker\
(при локальной установки по необходимости перезагрузить\
сервер).

## **OpenID-аутентификация**

Для создания Пользователя с методом входа в систему\
&#xNAN;**“OpenID-аутентификация”** необходимо установить флаг:\
&#xNAN;**“Использовать LDAP-аутентификацию”**, а затем\
заполнить поле **“oAuth id”**.

Для подключения OpenID аутентификации необходимо\
в файле `config.ini` , расположенном по пути:\
`/opt/SherpaOrchestrator/backend/config/config.ini`,\
заполнить соответствующие параметры:

* **oAuthClientId;**
* **oAuthClientSecret;**
* **oAuthAuthUri;**
* **oAuthTokenUri;**
* **oAuthUserInfoUri.**

При запросе токена Оркестратор передает параметр\
`‘redirect_uri’`.\
Если необходимо, то указать Callback URL вручную:\
`yourDomainURL/api/gui/system/oAuthHook` .

В настройках Аккаунта или Пользователя выберите: \
`"Use OpenID authentication"` .\
Укажите идентификатор Пользователя в системе OpenID.

В некоторых случаях, кроме настроек в Keycloak, может\
потребоваться добавить в `setup.ini` следующую настройку: `oAuthUserLinkField="preferred_username"` .
