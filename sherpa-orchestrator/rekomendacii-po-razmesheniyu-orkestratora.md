# Рекомендации по размещению Оркестратора

**Использование Оркестратора на терминальном сервере**

В Attended-сценариях Работы, при использовании Робота с интерактивным входом в учетную запись Пользователя, если внутри сценария есть имитация действий Пользователя в графическом интерфейсе десктопа или браузеров, эти действия будут работать, только если существует активное подключение к рабочему столу этой виртуальной машины (на экран смотрит какой-либо Пользователь). Как только Пользователь отключился от рабочего стола (RDP), Windows уничтожает графический контекст. Получается, что учетная запись продолжает работать. Робот также продолжает работать, но никаких кнопок и окон на экране уже не существует, то есть программно они перестают быть доступны.\
Поэтому чтобы без подключенных к учетным записям Пользователей можно было автоматизировать работу с приложениями путём имитации действий пользователя, к данной учетной записи должно быть постоянно установлено RDP-соединение.

Для обеспечения Unattended-сценариев Работы служит компонент Sherpa Coordinator. По команде оркестратора Координатор поднимает RDP-подключения к нужным учётным записям и удерживает их, пока работает сценарий, чтобы графический контекст Windows продолжал существовать, и все функции Робота работали в полном объеме. После окончания Работы сценария Робот самостоятельно выходит из учетной записи пользователя.

**Использование Оркестратора без терминальных серверов**

Можно организовать работу Оркестратора без терминальных серверов. В этом случае нужно выделить одну из виртуальных машин под работу Координатора. Установленный Координатор с этой выделенной виртуальной машины будет устанавливать RDP-подключения к другим виртуальным машинам, на которых уже будут запущены конкретные Unattended-роботы.

Таким образом, нет ограничения в том, что Координатор может подключаться по RDP только к своим собственным учетным записям на том же сервере. Он может подключаться к любым учетным записям на любых серверах, в том числе к виртуальным машинам в рамках сетевой связности.

**Известные ограничения**

Оркестратор позволяет завести любое количество Координаторов и любое количество сессий в рамках одного Координатора. Ограничение в использовании большого количества Координаторов и сессий может возникнуть только из-за ограничений аппаратных ресурсов и ограничений со стороны операционной системы в отношение того, какое количество одновременных RDP сессий к учётным записям Unattended-роботов может быть запущено и удерживаться одновременно из одного терминального сервера или виртуальной машины.
