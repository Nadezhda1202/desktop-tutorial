# Unattended робот

## 1.       Процедура активации

Лицензии требуют обязательной активации через Sherpa Orchestrator.

Локальная активация доступна по умолчанию в том случае, если у Робота есть своя Лицензия, которая была активирована локально. Для выбора локальной активации необходимо перейти в окно Роботы и нажать кнопку "Создать" над таблицей "Роботы":

<figure><img src="../.gitbook/assets/изображение (196).png" alt=""><figcaption></figcaption></figure>

Далее заполнить поля в окне "Робот", выбрав роль Unattended.

<figure><img src="../.gitbook/assets/изображение (197).png" alt=""><figcaption></figcaption></figure>

## 2.       Переактивация

Переактивация происходит автоматически или по запросу администратора, без необходимости вмешательства пользователя.

Перенос Unattended-робота осуществляется только через Sherpa Orchestrator.

Для просмотра информации или её редактирования для ранее созданной Лицензии необходимо выбрать в окне Лицензии нужную Лицензию и нажать справа от неё на кнопку <img src="../.gitbook/assets/изображение (198).png" alt="" data-size="line"> (“Изменить”). После этого откроется форма с настройками выбранной Лицензии, в которую можно внести все необходимые изменения:

<figure><img src="../.gitbook/assets/изображение (199).png" alt=""><figcaption></figcaption></figure>

Помимо полей заполняемых при создании новой Лицензии в форме редактирования есть дополнительные поля:

·         "GUID записи" - уникальный идентификатор, присвоенный Лицензии после ее создания. Данное поле нельзя изменять;

·         "Истекает" - дата и время истечения Лицензии;

·         "Создана" - дата и время создания Лицензии;

·         "Обновлена" - дата и время обновления Лицензии.

## 3.       Управление

Unattended-роботы — это роботы, которые запускае Координатор. Координатор запускает роботов если для них есть работа на экране "Работы". Работа может быть создана вручную, по Триггеру или через API.

На экране Роботы нажмите на кнопку “Создать“ и заполните нужные поля:

<figure><img src="../.gitbook/assets/изображение (200).png" alt=""><figcaption></figcaption></figure>

_Таблица 1 – Элементы пользовательского интерфейса в окне Робот (роль Unattended)_

<table data-header-hidden><thead><tr><th width="277.7833251953125"></th><th width="376.0499267578125"></th></tr></thead><tbody><tr><td><strong>Элемент интерфейса</strong></td><td><strong>Описание</strong></td></tr><tr><td>Переключатель “Робот активен”</td><td><p>Включенный переключатель указывает на то, что Робот включен на стороне Оркестратора.</p><p>В случае если переключатель находится в положении “Робот неактивен”, при запросе данного Робота к Оркестратору будет передана команда на выключение.</p></td></tr><tr><td>Текстовое поле “Имя”</td><td>Имя робота. Обязательное для заполнения поле.</td></tr><tr><td>Флаг “Роль Unattended”</td><td>Роль робота.</td></tr><tr><td>Текстовое поле “Машина (IP адрес или доменное имя)”</td><td>IP адрес терминального сервера или виртуальной машины, на которой развернут данный робот.</td></tr><tr><td>Текстовое поле “Домен (при наличии) и логин учетной записи в формате domain\username”</td><td>Доменное имя терминального сервера или виртуальной машины, на которой развернут данный робот или логин учетной записи (при необходимости включающий домен), в которой должен запускаться робот.</td></tr><tr><td>Текстовое поле “Пароль учетной записи”</td><td>Пароль от пользовательской Учетной записи, в которой должен запускаться робот.</td></tr><tr><td>Текстовое поле "Логин и Пароль из Ресурса"</td><td>Позволяет указать для данного робота логин и пароль из выбранного ресурса.</td></tr><tr><td>Чекбокс “Удаленная отладка”</td><td>Позволяет зафиксировать, что робот будет запускаться в режиме удаленной отладки через Sherpa Designer.</td></tr><tr><td>Текстовое поле "IP адрес машины Дизайнера для удаленной отладки"</td><td>IP-адрес машины, где находится Sherpa Designer, через который робот будет запускаться в режиме удаленной отладки.</td></tr><tr><td>Текстовое поле “Сервер удаленной отладки”</td><td>Сервер, на котором будет проводиться удаленная отладка данного робота.</td></tr><tr><td>Текстовое поле “Координатор”</td><td>Экземпляр Координатора, который будет использован для запуска данного робота.</td></tr><tr><td>Текстовое поле “Описание”</td><td>Описание робота.</td></tr><tr><td>Текстовое поле “Папка доступа”</td><td>Позволяет указать папку доступа для создаваемого робота.</td></tr><tr><td>Текстовое поле “Лицензия”</td><td><p>Позволяет выбрать тип Лицензии робота. Доступные варианты:</p><ul><li>Local license (локальная Лицензия);</li><li>Unattended Лицензия, добавленная в Оркестратор и назначенная определенному роботу.</li></ul></td></tr></tbody></table>

&#x20;Далее необходимо создать Координатора. Координатор — это сервис, который используется для запуска Unattended-роботов в пользовательских учетных записях, где требуется автоматический вход в учетные записи Роботов. Он устанавливается из соответствующего дистрибутива Sherpa Coordinator, предоставляемого вендором, не требует отдельной Лицензии. Для его установки необходимо перейти по ссылке: [https://docs.sherparpa.ru/sherpa-orchestrator/razvertyvanie-platformy-pod-upravleniem-orkestratora/ustanovka-sherpa-rpa-coordinator](https://docs.sherparpa.ru/sherpa-orchestrator/razvertyvanie-platformy-pod-upravleniem-orkestratora/ustanovka-sherpa-rpa-coordinator)

<figure><img src="../.gitbook/assets/изображение (201).png" alt=""><figcaption></figcaption></figure>

_Таблица 2 – Элементы пользовательского интерфейса Sherpa AI Server (роль Coordinator)_

<table data-header-hidden><thead><tr><th width="266.61669921875"></th><th width="373.8165283203125"></th></tr></thead><tbody><tr><td><strong>Элемент интерфейса</strong></td><td><strong>Описание</strong></td></tr><tr><td>Переключатель “Робот активен”</td><td>Включенный переключатель указывает на то, что Робот включен на стороне Оркестратора. В случае если переключатель находится в положении “Робот неактивен”, при запросе данного робота к Оркестратору будет передана команда на выключение.</td></tr><tr><td>Текстовое поле “Имя”</td><td>Имя Координатора. Обязательное для заполнения поле.</td></tr><tr><td>Флаг “Роль Coordinator”</td><td>Роль Координатора.</td></tr><tr><td>Текстовое поле “Описание”</td><td>Описание Координатора.</td></tr><tr><td>Текстовое поле "Папка доступа"</td><td>Позволяет указать папку доступа для создаваемого робота.</td></tr></tbody></table>

&#x20;Для сохранения созданного робота, после заполнения формы необходимо нажать кнопку “ОК”.

3.1. Запуск робота через триггеры

Необходимо перейти на экран “Триггеры“ и настроить запуск робота во вкладке “Роботы“ [https://docs.sherparpa.ru/sherpa-orchestrator/rabota-v-sherpa-orchestrator/ekrany/triggery#vkladka-roboty](https://docs.sherparpa.ru/sherpa-orchestrator/rabota-v-sherpa-orchestrator/ekrany/triggery#vkladka-roboty) .

3.2. Запуск робота через очереди

Необходимо перейти на экран “Очереди“ и настроить запуск задачи [https://docs.sherparpa.ru/sherpa-orchestrator/rabota-v-sherpa-orchestrator/ekrany/ocheredi](https://docs.sherparpa.ru/sherpa-orchestrator/rabota-v-sherpa-orchestrator/ekrany/ocheredi) .

3.3. Запуск робота через API

Необходимо использовать /api/robot/setStatus. Установить статус робота по его GUID.

`Эндпоинт: /api/robot/setStatus.`

`Метод: PUT.`

`Авторизация: обязательна.`

`Параметры:`

`GUID (обязательно): GUID Робота;`

`STATUS (обязательно): статус для установки.`

_Пример запроса:_

_` ```json `_

_`{`_

_`"GUID": "554ab883-1f82-48e1-bb12-5049002e7d70",`_

_`"Status": 1,`_

_`}`_

_` ``` `_

Подробнее о методах по ссылке: [https://docs.sherparpa.ru/sherpa-orchestrator/api](https://docs.sherparpa.ru/sherpa-orchestrator/api)
